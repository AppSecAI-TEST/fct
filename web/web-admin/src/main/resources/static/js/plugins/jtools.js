!function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function a(t){return function(){return this[t].apply(this,arguments)}}function r(e,n){function i(t,e){return e.toLowerCase()}var a,r=t(e).data(),o={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(a=l.replace(s,i),o[a]=r[l]);return o}function o(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var s=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),u=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=h.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var a=g.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=g.parseDate(n.startDate,a,n.language):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=g.parseDate(n.endDate,a,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();if(r=t.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else o=t.grep(r,function(t){return/^left|right$/.test(t)}),n.orientation.x=o[0]||"auto",o=t.grep(r,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=o[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,a=0;a<t.length;a++)e=t[a][0],2===t[a].length?(n=void 0,i=t[a][1]):3===t[a].length&&(n=t[a][1],i=t[a][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,a=0;a<t.length;a++)e=t[a][0],2===t[a].length?(i=void 0,n=t[a][1]):3===t[a].length&&(i=t[a][1],n=t[a][2]),e.off(n,i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){void 0===e&&(e=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,e,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=s.width(),a=s.height(),r=s.scrollTop(),o=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left,h=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-c)):(this.picker.addClass("datepicker-orient-left"),l.left<0?d-=l.left-10:l.left+e>i&&(d=i-e-10));var f,p,g=this.o.orientation.y;"auto"===g&&(f=-r+l.top-n,p=r+a-(l.top+u+n),g=Math.max(f,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?h+=u:h-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:h,left:d,zIndex:o})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var e,i=new Date(this.viewDate),a=i.getUTCFullYear(),r=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=p[this.o.language].today||p.en.today||"",d=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[r]+" "+a),this.picker.find("tfoot th.today").text(c).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(d).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=n(a,r-1,28),f=g.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(h);m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var v,b=[];h.valueOf()<m;){if(h.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),w=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),D=new Date(Number(D=n(w.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),C=(w-D)/864e5/7+1;b.push('<td class="cw">'+C+"</td>")}if(v=this.getClassNames(h),v.push("day"),this.o.beforeShowDay!==t.noop){var S=this.o.beforeShowDay(this._utc_to_local(h));void 0===S?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),!1===S.enabled&&v.push("disabled"),S.classes&&(v=v.concat(S.classes.split(/\s+/))),S.tooltip&&(e=S.tooltip)}v=t.unique(v),b.push('<td class="'+v.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&T.eq(e.getUTCMonth()).addClass("active")}),(a<o||a>l)&&T.addClass("disabled"),a===o&&T.slice(0,s).addClass("disabled"),a===l&&T.slice(u+1).addClass("disabled"),b="",a=10*parseInt(a/10,10);var F=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var x,k=t.map(this.dates,function(t){return t.getUTCFullYear()}),_=-1;_<11;_++)x=["year"],-1===_?x.push("old"):10===_&&x.push("new"),-1!==t.inArray(a,k)&&x.push("active"),(a<o||a>l)&&x.push("disabled"),b+='<span class="'+x.join(" ")+'">'+a+"</span>",a+=1;F.html(b)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,a,r,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var u="linked"===this.o.todayBtn?null:"view";this._setDate(l,u);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(r=1,a=o.parent().find("span").index(o),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,a,r))):(r=1,a=0,i=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,a,r))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(r=parseInt(o.text(),10)||1,i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),o.is(".old")?0===a?(a=11,i-=1):a-=1:o.is(".new")&&(11===a?(a=0,i+=1):a+=1),this._setDate(n(i,a,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(t){if(!e)return t;var n,i,a=new Date(t.valueOf()),r=a.getUTCDate(),o=a.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1===s)i=-1===e?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==n},n=o+e,a.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<s;l++)a=this.moveMonth(a,e);n=a.getUTCMonth(),a.setUTCDate(r),i=function(){return n!==a.getUTCMonth()}}for(;i();)a.setUTCDate(--r),a.setUTCMonth(n);return a}},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,a,r=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),a=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),a=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),a=new Date(o),a.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),a=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),a=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),a=new Date(o),a.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),r=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),a=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[a])for(;a>=0&&i<this.dates[a];)this.pickers[a--].setUTCDate(i);else if(i>this.dates[a])for(;a<r&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker;t.fn.datepicker=function(e){var n=Array.apply(null,arguments);n.shift();var i;return this.each(function(){var a=t(this),s=a.data("datepicker"),l="object"==typeof e&&e;if(!s){var d=r(this,"date"),f=t.extend({},h,d,l),p=o(f.language),g=t.extend({},h,p,d,l);if(a.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||a.find("input").toArray()};a.data("datepicker",s=new c(this,t.extend(g,m)))}else a.data("datepicker",s=new u(this,g))}if("string"==typeof e&&"function"==typeof s[e]&&void 0!==(i=s[e].apply(s,n)))return!1}),void 0!==i?i:this};var h=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"yyyy-mm-dd",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=u;var p=t.fn.datepicker.dates={en:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["日","一","二","三","四","五","六","日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"今天",clear:"清空"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(e,i,a){function r(){var t=this.slice(0,d[l].length);return t===d[l].slice(0,t.length)}if(e){if(e instanceof Date)return e;"string"==typeof i&&(i=g.parseFormat(i));var o,s,l,c=/([\-+]\d+)([dmwy])/,d=e.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<d.length;l++)switch(o=c.exec(d[l]),s=parseInt(o[1]),o[2]){case"d":e.setUTCDate(e.getUTCDate()+s);break;case"m":e=u.prototype.moveMonth.call(u.prototype,e,s);break;case"w":e.setUTCDate(e.getUTCDate()+7*s);break;case"y":e=u.prototype.moveYear.call(u.prototype,e,s)}return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}d=e&&e.match(this.nonpunctuation)||[],e=new Date;var h,f,m={},v=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,e=n(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var y=i.parts.slice();if(d.length!==y.length&&(y=t(y).filter(function(e,n){return-1!==t.inArray(n,v)}).toArray()),d.length===y.length){var w;for(l=0,w=y.length;l<w;l++){if(h=parseInt(d[l],10),o=y[l],isNaN(h))switch(o){case"MM":f=t(p[a].months).filter(r),h=t.inArray(f[0],p[a].months)+1;break;case"M":f=t(p[a].monthsShort).filter(r),h=t.inArray(f[0],p[a].monthsShort)+1}m[o]=h}var D,C;for(l=0;l<v.length;l++)(C=v[l])in m&&!isNaN(m[C])&&(D=new Date(e),b[C](D,m[C]),isNaN(D)||(e=D))}return e}},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var a={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var r=t.extend([],n.separators),o=0,s=n.parts.length;o<=s;o++)r.length&&e.push(r.shift()),e.push(a[n.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(){var t,e,n,i,a,r,o,s,l=[].slice,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,n,i,a,r;if(i=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(a=0,r=n.length;a<r;a++)e=n[a],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var n,i,a,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(i=a=0,r=n.length;a<r;i=++a)if(n[i]===e){n.splice(i,1);break}return this},t}(),t=function(t){function n(t,e){var a,r,o;if(this.element=t,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,a=null!=(o=n.optionsForElement(this.element))?o:{},this.options=i({},this.defaultOptions,a,null!=e?e:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,a;return c(n,t),n.prototype.Emitter=e,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return o},forceFallback:!1,fallback:function(){var t,e,i,a,r,o;for(this.element.className=this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),a=0,r=o.length;a<r;a++)t=o[a],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),i=e.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,
null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,a,r,o,s,l,u,c,d,h,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=n.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),d=t.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=d.length;r<l;r++)e=d[r],e.textContent=this._renameFilename(t.name);for(h=t.previewElement.querySelectorAll("[data-dz-size]"),o=0,u=h.length;o<u;o++)e=h[o],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),i=function(e){return function(i){return i.preventDefault(),i.stopPropagation(),t.status===n.UPLOADING?n.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?n.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),f=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],s=0,c=f.length;s<c;s++)a=f[s],p.push(a.addEventListener("click",i));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,a,r;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),r=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,a=r.length;i<a;i++)n=r[i],n.alt=t.name,n.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var n,i,a,r,o;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=t.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],i=0,a=r.length;i<a;i++)n=r[i],o.push(n.textContent=e);return o}},errormultiple:o,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:o,uploadprogress:function(t,e,n){var i,a,r,o,s;if(t.previewElement){for(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],a=0,r=o.length;a<r;a++)i=o[a],"PROGRESS"===i.nodeName?s.push(i.value=e):s.push(i.style.width=e+"%");return s}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:o,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:o,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,addedfiles:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var t,e,n,i,a,r,o;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],r=0,o=n.length;r<o;r++){e=n[r];for(t in e)a=e[t],i[t]=a}return i},n.prototype.getAcceptedFiles=function(){var t,e,n,i,a;for(i=this.files,a=[],e=0,n=i.length;e<n;e++)t=i[e],t.accepted&&a.push(t);return a},n.prototype.getRejectedFiles=function(){var t,e,n,i,a;for(i=this.files,a=[],e=0,n=i.length;e<n;e++)t=i[e],t.accepted||a.push(t);return a},n.prototype.getFilesWithStatus=function(t){var e,n,i,a,r;for(a=this.files,r=[],n=0,i=a.length;n<i;n++)e=a[n],e.status===t&&r.push(e);return r},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var t,e,i,a,r;for(a=this.files,r=[],e=0,i=a.length;e<i;e++)t=a[e],t.status!==n.UPLOADING&&t.status!==n.QUEUED||r.push(t);return r},n.prototype.init=function(){var t,e,i,a,r,o,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,n,a,r;if(n=t.hiddenFileInput.files,n.length)for(a=0,r=n.length;a<r;a++)e=n[a],t.addFile(e);return t.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,s=this.events,a=0,r=s.length;a<r;a++)t=s[a],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(n){return e(n),t.emit("dragenter",n)}}(this),dragover:function(t){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(t){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",e(n),t.emit("dragover",n)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(n){return e(n),t.drop(n)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(i){return(e!==t.element||i.target===t.element||n.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var t,e,n,i,a,r,o,s;if(i=0,n=0,t=this.getActiveFiles(),t.length){for(s=this.getActiveFiles(),r=0,o=s.length;r<o;r++)e=s[r],i+=e.upload.bytesSent,n+=e.upload.total;a=100*i/n}else a=100;return this.emit("totaluploadprogress",a,n,i)},n.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},n.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},n.prototype.getFallbackForm=function(){var t,e,i,a;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=n.createElement(i),"FORM"!==this.element.tagName?(a=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),a.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:e)},n.prototype.getExistingFallback=function(){var t,e,n,i,a,r;for(e=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},r=["div","form"],i=0,a=r.length;i<a;i++)if(n=r[i],t=e(this.element.getElementsByTagName(n)))return t},n.prototype.setupEventListeners=function(){var t,e,n,i,a,r,o;for(r=this.listeners,o=[],i=0,a=r.length;i<a;i++)t=r[i],o.push(function(){var i,a;i=t.events,a=[];for(e in i)n=i[e],a.push(t.element.addEventListener(e,n,!1));return a}());return o},n.prototype.removeEventListeners=function(){var t,e,n,i,a,r,o;for(r=this.listeners,o=[],i=0,a=r.length;i<a;i++)t=r[i],o.push(function(){var i,a;i=t.events,a=[];for(e in i)n=i[e],a.push(t.element.removeEventListener(e,n,!1));return a}());return o},n.prototype.disable=function(){var t,e,n,i,a;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,a=[],e=0,n=i.length;e<n;e++)t=i[e],a.push(this.cancelUpload(t));return a},n.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(t){var e,n,i,a,r,o,s,l;if(i=0,a="b",t>0){for(o=["TB","GB","MB","KB","b"],n=s=0,l=o.length;s<l;n=++s)if(r=o[n],e=Math.pow(this.options.filesizeBase,4-n)/10,t>=e){i=t/Math.pow(this.options.filesizeBase,4-n),a=r;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+a},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(n=t.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},n.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},n.prototype.handleFiles=function(t){var e,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)e=t[n],a.push(this.addFile(e));return a},n.prototype._addFilesFromItems=function(t){var e,n,i,a,r;for(r=[],i=0,a=t.length;i<a;i++)n=t[i],null!=n.webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?r.push(this.addFile(n.getAsFile())):e.isDirectory?r.push(this._addFilesFromDirectory(e,e.name)):r.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?r.push(this.addFile(n.getAsFile())):r.push(void 0);return r},n.prototype._addFilesFromDirectory=function(t,e){var n,i,a;return n=t.createReader(),i=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(a=function(t){return function(){return n.readEntries(function(n){var i,r,o;if(n.length>0){for(r=0,o=n.length;r<o;r++)i=n[r],i.isFile?i.file(function(n){if(!t.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=e+"/"+n.name,t.addFile(n)}):i.isDirectory&&t._addFilesFromDirectory(i,e+"/"+i.name);a()}return null},i)}}(this))()},n.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},n.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)e=t[n],this.enqueueFile(e);return null},n.prototype.enqueueFile=function(t){if(t.status!==n.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},n.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this))},n.prototype.removeFile=function(t){if(t.status===n.UPLOADING&&this.cancelUpload(t),this.files=s(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(t){var e,i,a,r;for(null==t&&(t=!1),r=this.files.slice(),i=0,a=r.length;i<a;i++)e=r[i],(e.status!==n.UPLOADING||t)&&this.removeFile(e);return null},n.prototype.createThumbnail=function(t,e){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===t.type?(i.emit("thumbnail",t,n.result),void(null!=e&&e())):i.createThumbnailFromUrl(t,n.result,e)}}(this),n.readAsDataURL(t)},n.prototype.createThumbnailFromUrl=function(t,e,n,i){var a;return a=document.createElement("img"),i&&(a.crossOrigin=i),a.onload=function(e){return function(){var i,o,s,l,u,c,d,h;if(t.width=a.width,t.height=a.height,s=e.options.resize.call(e,t),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=s.trgWidth,i.height=s.trgHeight,r(o,a,null!=(u=s.srcX)?u:0,null!=(c=s.srcY)?c:0,s.srcWidth,s.srcHeight,null!=(d=s.trgX)?d:0,null!=(h=s.trgY)?h:0,s.trgWidth,s.trgHeight),l=i.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=n)return n()}}(this),null!=n&&(a.onerror=n),a.src=e},n.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;t<e;){if(!i.length)return;this.processFile(i.shift()),t++}}},n.prototype.processFile=function(t){return this.processFiles([t])},n.prototype.processFiles=function(t){var e,i,a;for(i=0,a=t.length;i<a;i++)e=t[i],e.processing=!0,e.status=n.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},n.prototype._getFilesWithXhr=function(t){var e;return function(){var n,i,a,r;for(a=this.files,r=[],n=0,i=a.length;n<i;n++)e=a[n],e.xhr===t&&r.push(e);return r}.call(this)},n.prototype.cancelUpload=function(t){var e,i,a,r,o,s,l;if(t.status===n.UPLOADING){for(i=this._getFilesWithXhr(t.xhr),a=0,o=i.length;a<o;a++)e=i[a],e.status=n.CANCELED;for(t.xhr.abort(),r=0,s=i.length;r<s;r++)e=i[r],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=t.status)!==n.ADDED&&l!==n.QUEUED||(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},a=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},n.prototype.uploadFile=function(t){return this.uploadFiles([t])},n.prototype.uploadFiles=function(t){var e,r,o,s,l,u,c,d,h,f,p,g,m,v,b,y,w,D,C,S,T,F,x,k,_,A,I,L,E,M,R,U,N,P;for(C=new XMLHttpRequest,S=0,k=t.length;S<k;S++)e=t[S],e.xhr=C;g=a(this.options.method,t),w=a(this.options.url,t),C.open(g,w,!0),C.withCredentials=!!this.options.withCredentials,b=null,o=function(n){return function(){var i,a,r;for(r=[],i=0,a=t.length;i<a;i++)e=t[i],r.push(n._errorProcessing(t,b||n.options.dictResponseError.replace("{{statusCode}}",C.status),C));return r}}(this),y=function(n){return function(i){var a,r,o,s,l,u,c,d,h;if(null!=i)for(r=100*i.loaded/i.total,o=0,u=t.length;o<u;o++)e=t[o],e.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(a=!0,r=100,s=0,c=t.length;s<c;s++)e=t[s],100===e.upload.progress&&e.upload.bytesSent===e.upload.total||(a=!1),e.upload.progress=r,e.upload.bytesSent=e.upload.total;if(a)return}for(h=[],l=0,d=t.length;l<d;l++)e=t[l],h.push(n.emit("uploadprogress",e,r,e.upload.bytesSent));return h}}(this),C.onload=function(e){return function(i){var a;if(t[0].status!==n.CANCELED&&4===C.readyState){if(b=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(t){i=t,b="Invalid JSON response from server."}return y(),200<=(a=C.status)&&a<300?e._finished(t,b,i):o()}}}(this),C.onerror=function(e){return function(){if(t[0].status!==n.CANCELED)return o()}}(),v=null!=(E=C.upload)?E:C,v.onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(u,this.options.headers);for(s in u)(l=u[s])&&C.setRequestHeader(s,l);if(r=new FormData,this.options.params){M=this.options.params;for(p in M)D=M[p],r.append(p,D)}for(T=0,_=t.length;T<_;T++)e=t[T],this.emit("sending",e,C,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,C,r),"FORM"===this.element.tagName)for(R=this.element.querySelectorAll("input, textarea, select, button"),F=0,A=R.length;F<A;F++)if(d=R[F],h=d.getAttribute("name"),f=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(U=d.options,x=0,I=U.length;x<I;x++)m=U[x],m.selected&&r.append(h,m.value);else(!f||"checkbox"!==(N=f.toLowerCase())&&"radio"!==N||d.checked)&&r.append(h,d.value);for(c=L=0,P=t.length-1;0<=P?L<=P:L>=P;c=0<=P?++L:--L)r.append(this._getParamName(c),t[c],this._renameFilename(t[c].name));return this.submitRequest(C,r,t)},n.prototype.submitRequest=function(t,e,n){return t.send(e)},n.prototype._finished=function(t,e,i){var a,r,o;for(r=0,o=t.length;r<o;r++)a=t[r],a.status=n.SUCCESS,this.emit("success",a,e,i),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(t,e,i){var a,r,o;for(r=0,o=t.length;r<o;r++)a=t[r],a.status=n.ERROR,this.emit("error",a,e,i),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},n}(e),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[n(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,i,a,r,o;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],e=function(t){var e,n,a,r;for(r=[],n=0,a=t.length;n<a;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?r.push(i.push(e)):r.push(void 0);return r},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],a=0,r=i.length;a<r;a++)n=i[a],!1!==t.optionsForElement(n)?o.push(new t(n)):o.push(void 0);return o},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,i,a,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,i=0,a=r.length;i<a;i++)n=r[i],n.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},s=function(t,e){var n,i,a,r;for(r=[],i=0,a=t.length;i<a;i++)(n=t[i])!==e&&r.push(n);return r},n=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,i,a,r,o,s,l;if(t instanceof Array){i=[];try{for(a=0,o=t.length;a<o;a++)n=t[a],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],l=document.querySelectorAll(t),r=0,s=l.length;r<s;r++)n=l[r],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,i,a,r,o;if(!e)return!0;for(e=e.split(","),i=t.type,n=i.replace(/\/.*$/,""),r=0,o=e.length;r<o;r++)if(a=e[r],a=a.trim(),"."===a.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(n===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",a=function(t){var e,n,i,a,r,o,s,l,u;for(t.naturalWidth,o=t.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=o,i=n.getContext("2d"),i.drawImage(t,0,0),a=i.getImageData(0,0,1,o).data,u=0,r=o,s=o;s>u;)e=a[4*(s-1)+3],0===e?r=s:u=s,s=r+u>>1;return l=s/o,0===l?1:l},r=function(t,e,n,i,r,o,s,l,u,c){var d;return d=a(e),t.drawImage(e,n,i,r,o,s,l,u,c/d)},i=function(t,e){var n,i,a,r,o,s,l,u,c;if(a=!1,c=!0,i=t.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",r=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?t:i)[l](s+n.type,r,!1),!a&&(a=!0)?e.call(t,n.type||n):void 0},o=function(){try{u.doScroll("left")}catch(t){return t,void setTimeout(o,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!t.frameElement}catch(t){}c&&o()}return i[n](s+"DOMContentLoaded",r,!1),i[n](s+"readystatechange",r,!1),t[n](s+"load",r,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},i(window,t._autoDiscoverFunction)}.call(this),function(t){function e(t,e,a){var r=t[0],o=/er/.test(a)?g:/bl/.test(a)?f:d,s=a==m?{checked:r[d],disabled:r[f],indeterminate:"true"==t.attr(g)||"false"==t.attr(p)}:r[o];if(/^(ch|di|in)/.test(a)&&!s)n(t,o);else if(/^(un|en|de)/.test(a)&&s)i(t,o);else if(a==m)for(var l in s)s[l]?n(t,l,!0):i(t,l,!0);else e&&"toggle"!=a||(e||t[D]("ifClicked"),s?r[v]!==c&&i(t,o):n(t,o))}function n(e,n,a){var m=e[0],b=e.parent(),D=n==d,C=n==g,T=n==f,F=C?p:D?h:"enabled",x=r(e,F+o(m[v])),k=r(e,n+o(m[v]));if(!0!==m[n]){if(!a&&n==d&&m[v]==c&&m.name){var _=e.closest("form"),A='input[name="'+m.name+'"]';A=_.length?_.find(A):t(A),A.each(function(){this!==m&&t(this).data(l)&&i(t(this),n)})}C?(m[n]=!0,m[d]&&i(e,d,"force")):(a||(m[n]=!0),D&&m[g]&&i(e,g,!1)),s(e,D,n,a)}m[f]&&r(e,S,!0)&&b.find("."+u).css(S,"default"),b[y](k||r(e,n)||""),b.attr("role")&&!C&&b.attr("aria-"+(T?f:d),"true"),b[w](x||r(e,F)||"")}function i(t,e,n){var i=t[0],a=t.parent(),l=e==d,c=e==g,m=e==f,b=c?p:l?h:"enabled",D=r(t,b+o(i[v])),C=r(t,e+o(i[v]));!1!==i[e]&&(!c&&n&&"force"!=n||(i[e]=!1),s(t,l,b,n)),!i[f]&&r(t,S,!0)&&a.find("."+u).css(S,"pointer"),a[w](C||r(t,e)||""),a.attr("role")&&!c&&a.attr("aria-"+(m?f:d),"false"),a[y](D||r(t,b)||"")}function a(e,n){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),n&&e[D](n),e.off(".i").unwrap(),t(C+'[for="'+e[0].id+'"]').add(e.closest(C)).off(".i"))}function r(t,e,n){if(t.data(l))return t.data(l).o[e+(n?"":"Class")]}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t,e,n,i){i||(e&&t[D]("ifToggled"),t[D]("ifChanged")[D]("if"+o(n)))}var l="iCheck",u=l+"-helper",c="radio",d="checked",h="un"+d,f="disabled",p="determinate",g="in"+p,m="update",v="type",b="touchbegin.i touchend.i",y="addClass",w="removeClass",D="trigger",C="label",S="cursor",T=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);t.fn[l]=function(r,o){var s='input[type="checkbox"], input[type="'+c+'"]',h=t(),p=function(e){e.each(function(){var e=t(this);h=e.is(s)?h.add(e):h.add(e.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),p(this),h.each(function(){var n=t(this);"destroy"==r?a(n,"ifDestroyed"):e(n,!0,r),t.isFunction(o)&&o()});if("object"!=typeof r&&r)return this;var S=t.extend({checkedClass:d,disabledClass:f,indeterminateClass:g,labelHover:!0},r),F=S.handle,x=S.hoverClass||"hover",k=S.focusClass||"focus",_=S.activeClass||"active",A=!!S.labelHover,I=S.labelHoverClass||"hover",L=0|(""+S.increaseArea).replace("%","");return"checkbox"!=F&&F!=c||(s='input[type="'+F+'"]'),L<-50&&(L=-50),p(this),h.each(function(){var r=t(this);a(r);var o,s=this,h=s.id,p=-L+"%",g=100+2*L+"%",F={position:"absolute",top:p,left:p,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},E=T?{position:"absolute",visibility:"hidden"}:L?F:{position:"absolute",opacity:0},M="checkbox"==s[v]?S.checkboxClass||"icheckbox":S.radioClass||"i"+c,R=t(C+'[for="'+h+'"]').add(r.closest(C)),U=!!S.aria,N=l+"-"+Math.random().toString(36).substr(2,6),P='<div class="'+M+'" '+(U?'role="'+s[v]+'" ':"");U&&R.each(function(){P+='aria-labelledby="',this.id?P+=this.id:(this.id=N,P+=N),P+='"'}),P=r.wrap(P+"/>")[D]("ifCreated").parent().append(S.insert),o=t('<ins class="'+u+'"/>').css(F).appendTo(P),r.data(l,{o:S,s:r.attr("style")}).css(E),!!S.inheritClass&&P[y](s.className||""),!!S.inheritID&&h&&P.attr("id",l+"-"+h),"static"==P.css("position")&&P.css("position","relative"),e(r,!0,m),R.length&&R.on("click.i mouseover.i mouseout.i "+b,function(n){var i=n[v],a=t(this);if(!s[f]){if("click"==i){if(t(n.target).is("a"))return;e(r,!1,!0)
}else A&&(/ut|nd/.test(i)?(P[w](x),a[w](I)):(P[y](x),a[y](I)));if(!T)return!1;n.stopPropagation()}}),r.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[v],a=t.keyCode;return"click"!=e&&("keydown"==e&&32==a?(s[v]==c&&s[d]||(s[d]?i(r,d):n(r,d)),!1):void("keyup"==e&&s[v]==c?!s[d]&&n(r,d):/us|ur/.test(e)&&P["blur"==e?w:y](k)))}),o.on("click mousedown mouseup mouseover mouseout "+b,function(t){var n=t[v],i=/wn|up/.test(n)?_:x;if(!s[f]){if("click"==n?e(r,!1,!0):(/wn|er|in/.test(n)?P[y](i):P[w](i+" "+_),R.length&&A&&i==x&&R[/ut|nd/.test(n)?w:y](I)),!T)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(t,e,n,i){!function(t){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],t):jQuery&&!jQuery.fn.dataTable&&t(jQuery)}(function(n){"use strict";function a(t){var e,i,r="a aa ao as b fn i m o s ",o={};n.each(t,function(n,s){(e=n.match(/^([^A-Z]+?)([A-Z])/))&&-1!==r.indexOf(e[1]+" ")&&(i=n.replace(e[0],e[2].toLowerCase()),o[i]=n,"o"===e[1]&&a(t[n]))}),t._hungarianMap=o}function r(t,e,o){t._hungarianMap||a(t);var s;n.each(e,function(n,a){(s=t._hungarianMap[n])===i||!o&&e[s]!==i||(e[s]=e[n],"o"===s.charAt(0)&&r(t[s],e[n]))})}function o(t){var e=qt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"没有数据"===e.sEmptyTable&&Ut(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"加载中…"===e.sLoadingRecords&&Ut(t,t,"sZeroRecords","sLoadingRecords")}function s(t){oe(t,"ordering","bSort"),oe(t,"orderMulti","bSortMulti"),oe(t,"orderClasses","bSortClasses"),oe(t,"orderCellsTop","bSortCellsTop"),oe(t,"order","aaSorting"),oe(t,"orderFixed","aaSortingFixed"),oe(t,"paging","bPaginate"),oe(t,"pagingType","sPaginationType"),oe(t,"pageLength","iDisplayLength"),oe(t,"searching","bFilter")}function l(t){oe(t,"orderable","bSortable"),oe(t,"orderData","aDataSort"),oe(t,"orderSequence","asSorting"),oe(t,"orderDataType","sortDataType")}function u(t){var e=t.oBrowser,i=n("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),a=i.find(".test");e.bScrollOversize=100===a[0].offsetWidth,e.bScrollbarLeft=1!==a.offset().left,i.remove()}function c(t,a){var r=qt.defaults.column,o=t.aoColumns.length,s=n.extend({},qt.models.oColumn,r,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:a||e.createElement("th"),sTitle:r.sTitle?r.sTitle:a?a.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o});if(t.aoColumns.push(s),t.aoPreSearchCols[o]===i||null===t.aoPreSearchCols[o])t.aoPreSearchCols[o]=n.extend(!0,{},qt.models.oSearch);else{var l=t.aoPreSearchCols[o];l.bRegex===i&&(l.bRegex=!0),l.bSmart===i&&(l.bSmart=!0),l.bCaseInsensitive===i&&(l.bCaseInsensitive=!0)}d(t,o,null)}function d(t,e,a){var o=t.aoColumns[e],s=t.oClasses;a!==i&&null!==a&&(l(a),r(qt.defaults.column,a),a.mDataProp===i||a.mData||(a.mData=a.mDataProp),o._sManualType=a.sType,a.className&&!a.sClass&&(a.sClass=a.className),n.extend(o,a),Ut(o,a,"sWidth","sWidthOrig"),"number"==typeof a.iDataSort&&(o.aDataSort=[a.iDataSort]),Ut(o,a,"aDataSort"));var u=o.mData,c=k(u),d=o.mRender?k(o.mRender):null,h=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};o._bAttrSrc=n.isPlainObject(u)&&(h(u.sort)||h(u.type)||h(u.filter)),o.fnGetData=function(t,e){var n=c(t,e);return o.mRender&&e&&""!==e?d(n,e,t):n},o.fnSetData=_(u),t.oFeatures.bSort||(o.bSortable=!1);var f=-1!==n.inArray("asc",o.asSorting),p=-1!==n.inArray("desc",o.asSorting);o.bSortable&&(f||p)?f&&!p?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!f&&p&&(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function h(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}var a=t.oScroll;""===a.sY&&""===a.sX||pt(t),zt(t,null,"column-sizing",[t])}function f(t,e){var n=m(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function p(t,e){var i=m(t,"bVisible"),a=n.inArray(e,i);return-1!==a?a:null}function g(t){return m(t,"bVisible").length}function m(t,e){var i=[];return n.map(t.aoColumns,function(t,n){t[e]&&i.push(n)}),i}function v(t){var e,n,a,r,o,s,l,u,c,d=t.aoColumns,h=t.aoData,f=qt.ext.type.detect;for(e=0,n=d.length;e<n;e++)if(l=d[e],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,r=f.length;a<r;a++){for(o=0,s=h.length;o<s&&(c[o]===i&&(c[o]=T(t,o,e,"type")),(u=f[a](c[o]))&&"html"!==u);o++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function b(t,e,a,r){var o,s,l,u,d,h,f;if(e)for(o=e.length-1;o>=0;o--){f=e[o];var p=f.targets!==i?f.targets:f.aTargets;for(n.isArray(p)||(p=[p]),l=0,u=p.length;l<u;l++)if("number"==typeof p[l]&&p[l]>=0){for(;t.aoColumns.length<=p[l];)c(t);r(p[l],f)}else if("number"==typeof p[l]&&p[l]<0)r(t.aoColumns.length+p[l],f);else if("string"==typeof p[l])for(d=0,h=t.aoColumns.length;d<h;d++)("_all"==p[l]||n(t.aoColumns[d].nTh).hasClass(p[l]))&&r(d,f)}if(a)for(o=0,s=a.length;o<s;o++)r(o,a[o])}function y(t,e,i,a){var r=t.aoData.length,o=n.extend(!0,{},qt.models.oRow,{src:i?"dom":"data"});o._aData=e,t.aoData.push(o);for(var s=t.aoColumns,l=0,u=s.length;l<u;l++)i&&F(t,r,l,T(t,r,l)),s[l].sType=null;return t.aiDisplayMaster.push(r),t.oFeatures.bDeferRender||R(t,r,i,a),r}function w(t,e){var i;return e instanceof n||(e=n(e)),e.map(function(e,n){return i=M(t,n),y(t,i.data,n,i.cells)})}function D(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null}function C(t,e,i){return n.inArray(i,t.aoData[e].anCells)}function S(t,e,n,i){for(var a=[],r=0,o=i.length;r<o;r++)a.push(T(t,e,i[r],n));return a}function T(t,e,n,a){var r=t.aoColumns[n],o=t.aoData[e]._aData,s=r.fnGetData(o,a);if(s===i)return t.iDrawError!=t.iDraw&&null===r.sDefaultContent&&(Rt(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+e,4),t.iDrawError=t.iDraw),r.sDefaultContent;if(s!==o&&null!==s||null===r.sDefaultContent){if("function"==typeof s)return s()}else s=r.sDefaultContent;return null===s&&"display"==a?"":s}function F(t,e,n,i){var a=t.aoColumns[n],r=t.aoData[e]._aData;a.fnSetData(r,i)}function x(t){return n.map(t.match(/(\\.|[^\.])+/g),function(t){return t.replace("\\.",".")})}function k(t){if(n.isPlainObject(t)){var e={};return n.each(t,function(t,n){n&&(e[t]=k(n))}),function(t,n,a){return e[e[n]!==i?n:"_"](t,n,a)}}if(null===t)return function(t,e){return t};if("function"==typeof t)return function(e,n,i){return t(e,n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var a=function(t,e,n){var r,o,s,l;if(""!==n)for(var u=x(n),c=0,d=u.length;c<d;c++){if(r=u[c].match(se),o=u[c].match(le),r){u[c]=u[c].replace(se,""),""!==u[c]&&(t=t[u[c]]),s=[],u.splice(0,c+1),l=u.join(".");for(var h=0,f=t.length;h<f;h++)s.push(a(t[h],e,l));var p=r[0].substring(1,r[0].length-1);t=""===p?s:s.join(p);break}if(o)u[c]=u[c].replace(le,""),t=t[u[c]]();else{if(null===t||t[u[c]]===i)return i;t=t[u[c]]}}return t};return function(e,n){return a(e,n,t)}}function _(t){if(n.isPlainObject(t))return _(t._);if(null===t)return function(t,e){};if("function"==typeof t)return function(e,n){t(e,"set",n)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var e=function(t,n,a){for(var r,o,s,l,u,c=x(a),d=c[c.length-1],h=0,f=c.length-1;h<f;h++){if(o=c[h].match(se),s=c[h].match(le),o){c[h]=c[h].replace(se,""),t[c[h]]=[],r=c.slice(),r.splice(0,h+1),u=r.join(".");for(var p=0,g=n.length;p<g;p++)l={},e(l,n[p],u),t[c[h]].push(l);return}s&&(c[h]=c[h].replace(le,""),t=t[c[h]](n)),null!==t[c[h]]&&t[c[h]]!==i||(t[c[h]]={}),t=t[c[h]]}d.match(le)?t=t[d.replace(le,"")](n):t[d.replace(se,"")]=n};return function(n,i){return e(n,i,t)}}function A(t){return ee(t.aoData,"_aData")}function I(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0}function L(t,e,n){for(var a=-1,r=0,o=t.length;r<o;r++)t[r]==e?a=r:t[r]>e&&t[r]--;-1!=a&&n===i&&t.splice(a,1)}function E(t,e,n,a){var r,o,s=t.aoData[e];if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var l=s.anCells;for(r=0,o=l.length;r<o;r++)l[r].innerHTML=T(t,e,r,"display")}else s._aData=M(t,s.nTr).data;s._aSortData=null,s._aFilterData=null;var u=t.aoColumns;if(a!==i)u[a].sType=null;else for(r=0,o=u.length;r<o;r++)u[r].sType=null;U(s)}function M(t,e){for(var i,a,r,o,s=[],l=[],u=e.firstChild,c=0,d=t.aoColumns,h=function(t,e,n){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var a=t.substring(i+1);r["@"+a]=n.getAttribute(a)}}};u;)i=u.nodeName.toUpperCase(),"TD"!=i&&"TH"!=i||(a=d[c],o=n.trim(u.innerHTML),a&&a._bAttrSrc?(r={display:o},h(a.mData.sort,0,u),h(a.mData.type,0,u),h(a.mData.filter,0,u),s.push(r)):s.push(o),l.push(u),c++),u=u.nextSibling;return{data:s,cells:l}}function R(t,n,i,a){var r,o,s,l,u,c=t.aoData[n],d=c._aData,h=[];if(null===c.nTr){for(r=i||e.createElement("tr"),c.nTr=r,c.anCells=h,r._DT_RowIndex=n,U(c),l=0,u=t.aoColumns.length;l<u;l++)s=t.aoColumns[l],o=i?a[l]:e.createElement(s.sCellType),h.push(o),i&&!s.mRender&&s.mData===l||(o.innerHTML=T(t,n,l,"display")),null!==s.sClass&&(o.className+=" "+s.sClass),s.bVisible&&!i?r.appendChild(o):!s.bVisible&&i&&o.parentNode.removeChild(o),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,o,T(t,n,l,"display"),d,n,l);zt(t,"aoRowCreatedCallback",null,[r,d,n])}}function U(t){var e=t.nTr,i=t._aData;if(e){if(i.DT_RowId&&(e.id=i.DT_RowId),i.DT_RowClass){var a=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?re(t.__rowc.concat(a)):a,n(e).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowData&&n(e).data(i.DT_RowData)}}function N(t){var e,i,a,r,o,s=t.nTHead,l=t.nTFoot,u=0===n("th, td",s).length,c=t.oClasses,d=t.aoColumns;for(u&&(r=n("<tr/>").appendTo(s)),e=0,i=d.length;e<i;e++)o=d[e],a=n(o.nTh).addClass(o.sClass),u&&a.appendTo(r),t.oFeatures.bSort&&(a.addClass(o.sSortingClass),!1!==o.bSortable&&(a.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),_t(t,o.nTh,e))),o.sTitle!=a.html()&&a.html(o.sTitle),Ot(t,"header")(t,a,o,e,c);if(u&&O(t.aoHeader,s),n(s).find(">tr").attr("role","row"),n(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var h=t.aoFooter[0];for(e=0,i=h.length;e<i;e++)o=d[e],o.nTf=h[e].cell,o.sClass&&n(o.nTf).addClass(o.sClass)}}function P(t,e,n){var a,r,o,s,l,u,c,d,h,f=[],p=[],g=t.aoColumns.length;if(e){for(n===i&&(n=!1),a=0,r=e.length;a<r;a++){for(f[a]=e[a].slice(),f[a].nTr=e[a].nTr,o=g-1;o>=0;o--)t.aoColumns[o].bVisible||n||f[a].splice(o,1);p.push([])}for(a=0,r=f.length;a<r;a++){if(c=f[a].nTr)for(;u=c.firstChild;)c.removeChild(u);for(o=0,s=f[a].length;o<s;o++)if(d=1,h=1,p[a][o]===i){for(c.appendChild(f[a][o].cell),p[a][o]=1;f[a+d]!==i&&f[a][o].cell==f[a+d][o].cell;)p[a+d][o]=1,d++;for(;f[a][o+h]!==i&&f[a][o].cell==f[a][o+h].cell;){for(l=0;l<d;l++)p[a+l][o+h]=1;h++}f[a][o].cell.rowSpan=d,f[a][o].cell.colSpan=h}}}}function H(t){var e=zt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==n.inArray(!1,e))return void ht(t,!1);var a=[],r=0,o=t.asStripeClasses,s=o.length,l=(t.aoOpenRows.length,t.oLanguage),u=t.iInitDisplayStart,c="ssp"==Bt(t),d=t.aiDisplay;t.bDrawing=!0,u!==i&&-1!==u&&(t._iDisplayStart=c?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1);var h=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ht(t,!1);else if(c){if(!t.bDestroying&&!q(t))return}else t.iDraw++;if(0!==d.length)for(var p=c?0:h,m=c?t.aoData.length:f,v=p;v<m;v++){var b=d[v],y=t.aoData[b];null===y.nTr&&R(t,b);var w=y.nTr;if(0!==s){var D=o[r%s];y._sRowStripe!=D&&(n(w).removeClass(y._sRowStripe).addClass(D),y._sRowStripe=D)}zt(t,"aoRowCallback",null,[w,y._aData,r,v]),a.push(w),r++}else{var C=l.sZeroRecords;1==t.iDraw&&"ajax"==Bt(t)?C=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(C=l.sEmptyTable),a[0]=n("<tr/>",{class:s?o[0]:""}).append(n("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(C))[0]}zt(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],A(t),h,f,d]),zt(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],A(t),h,f,d]);var S=n(t.nTBody);S.children().detach(),S.append(n(a)),zt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function z(t,e){var n=t.oFeatures,i=n.bSort,a=n.bFilter;i&&Ft(t),a?G(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),H(t)}function j(t){var e=n("<div></div>")[0];t.nTable.parentNode.insertBefore(e,t.nTable),t.nTableWrapper=n('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"></div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var i,a,r,o,s,l,u,c=t.nTableWrapper,d=t.sDom.split(""),h=0;h<d.length;h++){if(a=0,"<"==(r=d[h])){if(o=n("<div></div>")[0],"'"==(s=d[h+1])||'"'==s){for(l="",u=2;d[h+u]!=s;)l+=d[h+u],u++;if("H"==l?l=t.oClasses.sJUIHeader:"F"==l&&(l=t.oClasses.sJUIFooter),-1!=l.indexOf(".")){var f=l.split(".");o.id=f[0].substr(1,f[0].length-1),o.className=f[1]}else"#"==l.charAt(0)?o.id=l.substr(1,l.length-1):o.className=l;h+=u}c.appendChild(o),c=o}else if(">"==r)c=c.parentNode;else if("l"==r&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)i=lt(t),a=1;else if("f"==r&&t.oFeatures.bFilter)i=J(t),a=1;else if("r"==r&&t.oFeatures.bProcessing)i=dt(t),a=1;else if("t"==r)i=ft(t),a=1;else if("i"==r&&t.oFeatures.bInfo)i=nt(t),a=1;else if("p"==r&&t.oFeatures.bPaginate)i=ut(t),a=1;else if(0!==qt.ext.feature.length)for(var p=qt.ext.feature,g=0,m=p.length;g<m;g++)if(r==p[g].cFeature){i=p[g].fnInit(t),i&&(a=1);break}1==a&&null!==i&&("object"!=typeof t.aanFeatures[r]&&(t.aanFeatures[r]=[]),t.aanFeatures[r].push(i),c.appendChild(i))}e.parentNode.replaceChild(t.nTableWrapper,e)}function O(t,e){var i,a,r,o,s,l,u,c,d,h,f,p=n(e).children("tr");for(t.splice(0,t.length),r=0,l=p.length;r<l;r++)t.push([]);for(r=0,l=p.length;r<l;r++)for(i=p[r],c=0,a=i.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(d=1*a.getAttribute("colspan"),h=1*a.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,u=function(t,e,n){for(var i=t[e];i[n];)n++;return n}(t,r,c),f=1===d,s=0;s<d;s++)for(o=0;o<h;o++)t[r+o][u+s]={cell:a,unique:f},t[r+o].nTr=i;a=a.nextSibling}}function B(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],O(n,e)));for(var a=0,r=n.length;a<r;a++)for(var o=0,s=n[a].length;o<s;o++)!n[a][o].unique||i[o]&&t.bSortCellsTop||(i[o]=n[a][o].cell);return i}function W(t,e,i){if(zt(t,"aoServerParams","serverParams",[e]),e&&e.__legacy){var a={};n.each(e,function(t,e){var n=e.name.match(/(.*?)\[\]$/);if(n){var i=n[0];a[i]||(a[i]=[]),a[i].push(e.value)}else a[e.name]=e.value}),e=a}var r,o=t.ajax,s=t.oInstance;if(n.isPlainObject(o)&&o.data){r=o.data;var l=n.isFunction(r)?r(e):r;e=n.isFunction(r)&&l?l:n.extend(!0,e,l),delete o.data}var u={data:e,success:function(e){var n=e.error||e.sError;n&&t.oApi._fnLog(t,0,n),t.json=e,zt(t,null,"xhr",[t,e]),i(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n,i){var a=t.oApi._fnLog;"parsererror"==n?a(t,0,"Invalid JSON response",1):a(t,0,"Ajax error",7)}};t.fnServerData?t.fnServerData.call(s,t.sAjaxSource,e,i,t):t.sAjaxSource||"string"==typeof o?t.jqXHR=n.ajax(n.extend(u,{url:o||t.sAjaxSource})):n.isFunction(o)?t.jqXHR=o.call(s,e,i,t):(t.jqXHR=n.ajax(n.extend(u,o)),o.data=r)}function q(t){if(t.bAjaxDataGet){t.iDraw++,ht(t,!0);var e=(t.aoColumns.length,$(t));return W(t,e,function(e){V(t,e)},t),!1}return!0}function $(t){var e,i,a,r,o=t.aoColumns,s=o.length,l=t.oFeatures,u=t.oPreviousSearch,c=t.aoPreSearchCols,d=[],h=Tt(t),f=t._iDisplayStart,p=!1!==l.bPaginate?t._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",ee(o,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",p);var m={draw:t.iDraw,columns:[],order:[],start:f,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(e=0;e<s;e++)a=o[e],r=c[e],i="function"==typeof a.mData?"function":a.mData,m.columns.push({data:i,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+e,i),l.bFilter&&(g("sSearch_"+e,r.sSearch),g("bRegex_"+e,r.bRegex),g("bSearchable_"+e,a.bSearchable)),l.bSort&&g("bSortable_"+e,a.bSortable);return n.each(h,function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),l.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),l.bSort&&g("iSortingCols",h.length),d.__legacy=!0,t.sAjaxSource||qt.ext.legacy.ajax?d:m}function V(t,e){var n=function(t,n){return e[t]!==i?e[t]:e[n]},a=n("sEcho","draw"),r=n("iTotalRecords","recordsTotal"),o=n("iTotalDisplayRecords","recordsFiltered");if(a){if(1*a<t.iDraw)return;t.iDraw=1*a}I(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(o,10);for(var s=Y(t,e),l=0,u=s.length;l<u;l++)y(t,s[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,H(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,ht(t,!1)}function Y(t,e){var a=n.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===a?e.aaData||e[a]:""!==a?k(a)(e):e}function J(t){var i=t.oClasses,a=t.sTableId,r=t.oPreviousSearch,o=t.aanFeatures,s='<input type="search" class="'+i.sFilterInput+'"/>',l=t.oLanguage.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",s):l+s;var u=n("<div/>",{id:o.f?null:a+"_filter",class:i.sFilter}).append(n("<label/>").append(l)),c=n('input[type="search"]',u).val(r.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT",function(e){var n=(o.f,this.value?this.value:"");n!=r.sSearch&&(G(t,{sSearch:n,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),t._iDisplayStart=0,H(t))}).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",a);return n(t.nTable).on("filter.DT",function(){try{c[0]!==e.activeElement&&c.val(r.sSearch)}catch(t){}}),u[0]}function G(t,e,n){var i=t.oPreviousSearch,a=t.aoPreSearchCols,r=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(v(t),"ssp"!=Bt(t)){K(t,e.sSearch,n,e.bRegex,e.bSmart,e.bCaseInsensitive),r(e);for(var o=0;o<a.length;o++)X(t,a[o].sSearch,o,a[o].bRegex,a[o].bSmart,a[o].bCaseInsensitive);Q(t)}else r(e);t.bFiltered=!0,zt(t,null,"search",[t])}function Q(t){for(var e=qt.ext.search,n=m(t,"bSearchable"),i=0,a=e.length;i<a;i++)for(var r=0,o=0,s=t.aiDisplay.length;o<s;o++){var l=t.aiDisplay[o-r],u=e[i](t,S(t,l,"filter",n),l);u||(t.aiDisplay.splice(o-r,1),r++)}}function X(t,e,n,i,a,r){if(""!==e)for(var o,s=t.aiDisplay,l=Z(e,i,a,r),u=s.length-1;u>=0;u--)o=t.aoData[s[u]]._aFilterData[n],l.test(o)||s.splice(u,1)}function K(t,e,n,i,a,r){var o,s,l,u=Z(e,i,a,r),c=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster;if(0!==qt.ext.search.length&&(n=!0),s=et(t),e.length<=0)t.aiDisplay=d.slice();else for((s||n||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=d.slice()),o=t.aiDisplay,l=o.length-1;l>=0;l--)u.test(t.aoData[o[l]]._sFilterRow)||o.splice(l,1)}function Z(t,e,n,i){var a,r=e?t:tt(t);return n&&(a=r.split(" "),r="^(?=.*?"+a.join(")(?=.*?")+").*$"),new RegExp(r,i?"i":"")}function tt(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],n=new RegExp("(\\"+e.join("|\\")+")","g");return t.replace(n,"\\$1")}function et(t){var e,n,i,a,r,o,s,l,u=t.aoColumns,c=qt.ext.type.search,d=!1;for(n=0,a=t.aoData.length;n<a;n++)if(l=t.aoData[n],!l._aFilterData){for(o=[],i=0,r=u.length;i<r;i++)e=u[i],e.bSearchable?(s=T(t,n,i,"filter"),s=c[e.sType]?c[e.sType](s):null!==s?s:""):s="",s.indexOf&&-1!==s.indexOf("&")&&(ue.innerHTML=s,s=ce?ue.textContent:ue.innerText,s=s.replace(/[\r\n]/g,"")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join("  "),d=!0}return d}function nt(t){var e=t.sTableId,i=t.aanFeatures.i,a=n("<div/>",{class:t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:it,sName:"information"}),a.attr("role","alert").attr("aria-live","polite").attr("aria-relevant","all"),n(t.nTable).attr("aria-describedby",e+"_info")),a[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,a=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==o&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=at(t,l);var u=i.fnInfoCallback;null!==u&&(l=u.call(t.oInstance,t,a,r,o,s,l)),n(e).html(l)}}function at(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,a=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===a;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(i/a))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(r/a)))}function rt(t){var e,n,i,a=t.iInitDisplayStart,r=t.aoColumns,o=t.oFeatures;if(!t.bInitialised)return void setTimeout(function(){rt(t)},200);for(j(t),N(t),P(t,t.aoHeader),P(t,t.aoFooter),ht(t,!0),o.bAutoWidth&&mt(t),e=0,n=r.length;e<n;e++)i=r[e],i.sWidth&&(i.nTh.style.width=Ct(i.sWidth));z(t);var s=Bt(t);"ssp"!=s&&("ajax"==s?W(t,[],function(n){var i=Y(t,n);for(e=0;e<i.length;e++)y(t,i[e]);t.iInitDisplayStart=a,z(t),ht(t,!1),ot(t,n)},t):(ht(t,!1),ot(t)))}function ot(t,e){t._bInitComplete=!0,e&&h(t),zt(t,"aoInitComplete","init",[t,e])}function st(t,e){var n=parseInt(e,10);t._iDisplayLength=n,jt(t),zt(t,null,"length",[t,n])}function lt(t){for(var e=t.oClasses,i=t.sTableId,a=t.aLengthMenu,r=n.isArray(a[0]),o=r?a[0]:a,s=r?a[1]:a,l=n("<select/>",{name:i+"_length","aria-controls":i,class:e.sLengthSelect}),u=0,c=o.length;u<c;u++)l[0][u]=new Option(s[u],o[u]);var d=n("<div><label/></div>").addClass(e.sLength);t.aanFeatures.l||(d[0].id=i+"_length");var h=t.oLanguage.sLengthMenu.split(/(_MENU_)/);return d.children().append(h[0]).append(l).append(h[2]),l.val(t._iDisplayLength).bind("change.DT",function(e){st(t,n(this).val()),H(t)}),n(t.nTable).bind("length",function(t,e,n){l.val(n)}),d[0]}function ut(t){var e=t.sPaginationType,i=qt.ext.pager[e],a="function"==typeof i,r=function(t){H(t)},o=n("<div/>").addClass(t.oClasses.sPaging+e)[0],s=t.aanFeatures;return a||i.fnInit(t,o,r),s.p||(o.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(a){var e,n,o=t._iDisplayStart,l=t._iDisplayLength,u=t.fnRecordsDisplay(),c=-1===l,d=c?0:Math.ceil(o/l),h=c?1:Math.ceil(u/l),f=i(d,h);for(e=0,n=s.p.length;e<n;e++)Ot(t,"pageButton")(t,s.p[e],e,f,d,h)}else i.fnUpdate(t,r)},sName:"pagination"})),o}function ct(t,e,n){var i=t._iDisplayStart,a=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||-1===a?i=0:"number"==typeof e?(i=e*a)>r&&(i=0):"first"==e?i=0:"previous"==e?(i=a>=0?i-a:0)<0&&(i=0):"next"==e?i+a<r&&(i+=a):"last"==e?i=Math.floor((r-1)/a)*a:Rt(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==i;return t._iDisplayStart=i,zt(t,null,"page",[t]),n&&H(t),o}function dt(t){return n("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ht(t,e){t.oFeatures.bProcessing&&n(t.aanFeatures.r).css("visibility",e?"visible":"hidden"),zt(t,null,"processing",[t,e])}function ft(t){var e=t.oScroll;if(""===e.sX&&""===e.sY)return t.nTable;var i=e.sX,a=e.sY,r=t.oClasses,o=n(t.nTable),s=o.children("caption"),l=s.length?s[0]._captionSide:null,u=n(o[0].cloneNode(!1)),c=n(o[0].cloneNode(!1)),d=o.children("tfoot"),h="<div/>",f=function(t){return t?Ct(t):null};d.length||(d=null);var p=n(h,{class:r.sScrollWrapper}).append(n(h,{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?f(i):"100%"}).append(n(h,{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:e.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append(o.children("thead")))).append("top"===l?s:null)).append(n(h,{class:r.sScrollBody}).css({overflow:"auto",height:f(a),width:f(i)}).append(o));d&&p.append(n(h,{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:i?f(i):"100%"}).append(n(h,{class:r.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(o.children("tfoot")))).append("bottom"===l?s:null));var g=p.children(),m=g[0],v=g[1],b=d?g[2]:null;return i&&n(v).scroll(function(t){var e=this.scrollLeft;m.scrollLeft=e,d&&(b.scrollLeft=e)}),t.nScrollHead=m,t.nScrollBody=v,t.nScrollFoot=b,t.aoDrawCallback.push({fn:pt,sName:"scrolling"}),p[0]}function pt(t){var e,i,a,r,o,s,l,u,c,d=t.oScroll,h=d.sX,p=d.sXInner,g=d.sY,m=d.iBarWidth,v=n(t.nScrollHead),b=v[0].style,y=v.children("div"),w=y[0].style,D=y.children("table"),C=t.nScrollBody,S=n(C),T=C.style,F=n(t.nScrollFoot),x=F.children("div"),k=x.children("table"),_=n(t.nTHead),A=n(t.nTable),I=A[0],L=I.style,E=t.nTFoot?n(t.nTFoot):null,M=t.oBrowser,R=M.bScrollOversize,U=[],N=[],P=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};if(A.children("thead, tfoot").remove(),o=_.clone().prependTo(A),e=_.find("tr"),a=o.find("tr"),o.find("th, td").removeAttr("tabindex"),E&&(s=E.clone().prependTo(A),i=E.find("tr"),r=s.find("tr")),h||(T.width="100%",v[0].style.width="100%"),n.each(B(t,o),function(e,n){l=f(t,e),n.style.width=t.aoColumns[l].sWidth}),E&&gt(function(t){t.style.width=""},r),d.bCollapse&&""!==g&&(T.height=S.offsetHeight+_[0].offsetHeight+"px"),c=A.outerWidth(),""===h?(L.width="100%",R&&(A.find("tbody").height()>C.offsetHeight||"scroll"==S.css("overflow-y"))&&(L.width=Ct(A.outerWidth()-m))):""!==p?L.width=Ct(p):c==S.width()&&S.height()<A.height()?(L.width=Ct(c-m),A.outerWidth()>c-m&&(L.width=Ct(c))):L.width=Ct(c),c=A.outerWidth(),gt(P,a),gt(function(t){U.push(Ct(n(t).css("width")))},a),gt(function(t,e){t.style.width=U[e]},e),n(a).height(0),E&&(gt(P,r),gt(function(t){N.push(Ct(n(t).css("width")))},r),gt(function(t,e){t.style.width=N[e]},i),n(r).height(0)),gt(function(t,e){t.innerHTML="",t.style.width=U[e]},a),E&&gt(function(t,e){t.innerHTML="",t.style.width=N[e]},r),A.outerWidth()<c?(u=C.scrollHeight>C.offsetHeight||"scroll"==S.css("overflow-y")?c+m:c,R&&(C.scrollHeight>C.offsetHeight||"scroll"==S.css("overflow-y"))&&(L.width=Ct(u-m)),""!==h&&""===p||Rt(t,1,"Possible column misalignment",6)):u="100%",T.width=Ct(u),b.width=Ct(u),E&&(t.nScrollFoot.style.width=Ct(u)),g||R&&(T.height=Ct(I.offsetHeight+m)),g&&d.bCollapse){T.height=Ct(g);var H=h&&I.offsetWidth>C.offsetWidth?m:0;I.offsetHeight<C.offsetHeight&&(T.height=Ct(I.offsetHeight+H))}var z=A.outerWidth();D[0].style.width=Ct(z),w.width=Ct(z);var j=A.height()>C.clientHeight||"scroll"==S.css("overflow-y"),O="padding"+(M.bScrollbarLeft?"Left":"Right");w[O]=j?m+"px":"0px",E&&(k[0].style.width=Ct(z),x[0].style.width=Ct(z),x[0].style[O]=j?m+"px":"0px"),S.scroll(),(t.bSorted||t.bFiltered)&&(C.scrollTop=0)}function gt(t,e,n){for(var i,a,r=0,o=0,s=e.length;o<s;){for(i=e[o].firstChild,a=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?t(i,a,r):t(i,r),r++),i=i.nextSibling,a=n?a.nextSibling:null;o++}}function mt(e){var i,a,r,o,s,l=e.nTable,u=e.aoColumns,c=e.oScroll,d=c.sY,f=c.sX,p=c.sXInner,v=u.length,b=m(e,"bVisible"),y=n("th",e.nTHead),w=l.getAttribute("width"),D=l.parentNode,C=!1;for(i=0;i<b.length;i++)a=u[b[i]],null!==a.sWidth&&(a.sWidth=bt(a.sWidthOrig,D),C=!0);if(C||f||d||v!=g(e)||v!=y.length){var S=n(l.cloneNode(!1)).css("visibility","hidden").removeAttr("id").append(n(e.nTHead).clone(!1)).append(n(e.nTFoot).clone(!1)).append(n("<tbody><tr/></tbody>"));S.find("tfoot th, tfoot td").css("width","");var T=S.find("tbody tr");for(y=B(e,S.find("thead")[0]),i=0;i<b.length;i++)a=u[b[i]],y[i].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?Ct(a.sWidthOrig):"";if(e.aoData.length)for(i=0;i<b.length;i++)r=b[i],a=u[r],n(wt(e,r)).clone(!1).append(a.sContentPadding).appendTo(T);if(S.appendTo(D),f&&p?S.width(p):f?(S.css("width","auto"),S.width()<D.offsetWidth&&S.width(D.offsetWidth)):d?S.width(D.offsetWidth):w&&S.width(w),yt(e,S[0]),f){var F=0;for(i=0;i<b.length;i++)a=u[b[i]],s=n(y[i]).outerWidth(),F+=null===a.sWidthOrig?s:parseInt(a.sWidth,10)+s-n(y[i]).width();S.width(Ct(F)),l.style.width=Ct(F)}for(i=0;i<b.length;i++)a=u[b[i]],(o=n(y[i]).width())&&(a.sWidth=Ct(o));l.style.width=Ct(S.css("width")),S.remove()}else for(i=0;i<v;i++)u[i].sWidth=Ct(y.eq(i).width());w&&(l.style.width=Ct(w),e._reszEvt||(n(t).bind("resize.DT-"+e.sInstance,vt(function(){h(e)})),e._reszEvt=!0))}function vt(t){var e,n;return function(){var i=+new Date;e&&i<e+200?(clearTimeout(n),n=setTimeout(function(){e=i,t()},200)):(e=i,t())}}function bt(t,i){if(!t)return 0;var a=n("<div/>").css("width",Ct(t)).appendTo(i||e.body),r=a[0].offsetWidth;return a.remove(),r}function yt(t,e){var i=t.oScroll;if(i.sX||i.sY){var a=i.sX?0:i.iBarWidth;e.style.width=Ct(n(e).outerWidth()-a)}}function wt(t,e){var i=Dt(t,e);if(i<0)return null;var a=t.aoData[i];return a.nTr?a.anCells[e]:n("<td/>").html(T(t,i,e,"display"))[0]}function Dt(t,e){for(var n,i=-1,a=-1,r=0,o=t.aoData.length;r<o;r++)n=T(t,r,e,"display")+"",n=n.replace(de,""),n.length>i&&(i=n.length,a=r);return a}function Ct(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function St(){if(!qt.__scrollbarWidth){var t=n("<p/>").css({width:"100%",height:200,padding:0})[0],e=n("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(t).appendTo("body"),i=t.offsetWidth;e.css("overflow","scroll");var a=t.offsetWidth;i===a&&(a=e[0].clientWidth),e.remove(),qt.__scrollbarWidth=i-a}return qt.__scrollbarWidth}function Tt(t){var e,i,a,r,o,s,l,u=[],c=t.aoColumns,d=t.aaSortingFixed,h=n.isPlainObject(d),f=[],p=function(t){t.length&&!n.isArray(t[0])?f.push(t):f.push.apply(f,t)};for(n.isArray(d)&&p(d),h&&d.pre&&p(d.pre),p(t.aaSorting),h&&d.post&&p(d.post),e=0;e<f.length;e++)for(l=f[e][0],r=c[l].aDataSort,i=0,a=r.length;i<a;i++)o=r[i],s=c[o].sType||"string",u.push({src:l,col:o,dir:f[e][1],index:f[e][2],type:s,formatter:qt.ext.type.order[s+"-pre"]});return u}function Ft(t){var e,n,i,a,r=[],o=qt.ext.type.order,s=t.aoData,l=(t.aoColumns,0),u=t.aiDisplayMaster,c=Tt(t);for(v(t),e=0,n=c.length;e<n;e++)a=c[e],a.formatter&&l++,It(t,a.col);if("ssp"!=Bt(t)&&0!==c.length){for(e=0,i=u.length;e<i;e++)r[u[e]]=e;l===c.length?u.sort(function(t,e){var n,i,a,o,l,u=c.length,d=s[t]._aSortData,h=s[e]._aSortData;for(a=0;a<u;a++)if(l=c[a],n=d[l.col],i=h[l.col],0!==(o=n<i?-1:n>i?1:0))return"asc"===l.dir?o:-o;return n=r[t],i=r[e],n<i?-1:n>i?1:0}):u.sort(function(t,e){var n,i,a,l,u,d,h=c.length,f=s[t]._aSortData,p=s[e]._aSortData;for(a=0;a<h;a++)if(u=c[a],n=f[u.col],i=p[u.col],d=o[u.type+"-"+u.dir]||o["string-"+u.dir],0!==(l=d(n,i)))return l;return n=r[t],i=r[e],n<i?-1:n>i?1:0})}t.bSorted=!0}function xt(t){for(var e,i,a=t.aoColumns,r=Tt(t),o=t.oLanguage.oAria,s=0,l=a.length;s<l;s++){var u=a[s],c=u.asSorting,d=u.sTitle.replace(/<.*?>/g,""),h=n(u.nTh).removeAttr("aria-sort");u.bSortable?(r.length>0&&r[0].col==s?(h.attr("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=c[r[0].index+1]||c[0]):i=c[0],e=d+("asc"===i?o.sSortAscending:o.sSortDescending)):e=d,h.attr("aria-label",e)}}function kt(t,e,a,r){var o,s=t.aoColumns[e],l=t.aaSorting,u=s.asSorting,c=function(t){var e=t._idx;return e===i&&(e=n.inArray(t[1],u)),e+1>=u.length?0:e+1};if(a&&t.oFeatures.bSortMulti){var d=n.inArray(e,ee(l,"0"));-1!==d?(o=c(l[d]),l[d][1]=u[o],l[d]._idx=o):(l.push([e,u[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==e?(o=c(l[0]),l.length=1,l[0][1]=u[o],l[0]._idx=o):(l.length=0,l.push([e,u[0]]),l[0]._idx=0);z(t),"function"==typeof r&&r(t)}function _t(t,e,n,i){var a=t.aoColumns[n];Pt(e,{},function(e){!1!==a.bSortable&&(ht(t,!0),setTimeout(function(){kt(t,n,e.shiftKey,i),"ssp"!==Bt(t)&&ht(t,!1)},0))})}function At(t){var e,i,a,r=t.aLastSort,o=t.oClasses.sSortColumn,s=Tt(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(e=0,i=r.length;e<i;e++)a=r[e].src,n(ee(t.aoData,"anCells",a)).removeClass(o+(e<2?e+1:3));for(e=0,i=s.length;e<i;e++)a=s[e].src,
n(ee(t.aoData,"anCells",a)).addClass(o+(e<2?e+1:3))}t.aLastSort=s}function It(t,e){var n,i=t.aoColumns[e],a=qt.ext.order[i.sSortDataType];a&&(n=a.call(t.oInstance,t,e,p(t,e)));for(var r,o,s=qt.ext.type.order[i.sType+"-pre"],l=0,u=t.aoData.length;l<u;l++)r=t.aoData[l],r._aSortData||(r._aSortData=[]),r._aSortData[e]&&!a||(o=a?n[l]:T(t,l,e,"sort"),r._aSortData[e]=s?s(o):o)}function Lt(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e,i,a={iCreate:(new Date).getTime(),iStart:t._iDisplayStart,iLength:t._iDisplayLength,aaSorting:n.extend(!0,[],t.aaSorting),oSearch:n.extend(!0,{},t.oPreviousSearch),aoSearchCols:n.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(e=0,i=t.aoColumns.length;e<i;e++)a.abVisCols.push(t.aoColumns[e].bVisible);zt(t,"aoStateSaveParams","stateSaveParams",[t,a]),t.fnStateSaveCallback.call(t.oInstance,t,a)}}function Et(t,e){var i,a,r=t.aoColumns;if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t);if(o){var s=zt(t,"aoStateLoadParams","stateLoadParams",[t,o]);if(-1===n.inArray(!1,s)&&!(o.iCreate<(new Date).getTime()-1e3*t.iStateDuration)&&r.length===o.aoSearchCols.length){t.oLoadedState=n.extend(!0,{},o),t._iDisplayStart=o.iStart,t.iInitDisplayStart=o.iStart,t._iDisplayLength=o.iLength,t.aaSorting=[];var l=o.aaSorting;for(i=0,a=l.length;i<a;i++)t.aaSorting.push(l[i][0]>=r.length?[0,l[i][1]]:l[i]);for(n.extend(t.oPreviousSearch,o.oSearch),n.extend(!0,t.aoPreSearchCols,o.aoSearchCols),i=0,a=o.abVisCols.length;i<a;i++)r[i].bVisible=o.abVisCols[i];zt(t,"aoStateLoaded","stateLoaded",[t,o])}}}}function Mt(t){var e=qt.settings,i=n.inArray(t,ee(e,"nTable"));return-1!==i?e[i]:null}function Rt(e,n,i,a){if(i="DataTables warning: "+(null!==e?"table id="+e.sTableId+" - ":"")+i,a&&(i+=". For more information about this error, please see http://datatables.net/tn/"+a),n)t.console&&console.log&&console.log(i);else{var r=qt.ext;if("alert"!=(r.sErrMode||r.errMode))throw new Error(i);alert(i)}}function Ut(t,e,a,r){if(n.isArray(a))return void n.each(a,function(i,a){n.isArray(a)?Ut(t,e,a[0],a[1]):Ut(t,e,a)});r===i&&(r=a),e[a]!==i&&(t[r]=e[a])}function Nt(t,e,i){var a;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],n.isPlainObject(a)?(n.isPlainObject(t[r])||(t[r]={}),n.extend(!0,t[r],a)):i&&"data"!==r&&"aaData"!==r&&n.isArray(a)?t[r]=a.slice():t[r]=a);return t}function Pt(t,e,i){n(t).bind("click.DT",e,function(e){t.blur(),i(e)}).bind("keypress.DT",e,function(t){13===t.which&&i(t)}).bind("selectstart.DT",function(){return!1})}function Ht(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function zt(t,e,i,a){var r=[];return e&&(r=n.map(t[e].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,a)})),null!==i&&n(t.nTable).trigger(i+".dt",a),r}function jt(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;n===t.fnRecordsDisplay()&&(e=n-i),(-1===i||e<0)&&(e=0),t._iDisplayStart=e}function Ot(t,e){var i=t.renderer,a=qt.ext.renderer[e];return n.isPlainObject(i)&&i[e]?a[i[e]]||a._:"string"==typeof i?a[i]||a._:a._}function Bt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Wt(t,e){var n=[],i=_e.numbers_length,a=Math.floor(i/2);return e<=i?n=ie(0,e):t<=a?(n=ie(0,i-2),n.push("ellipsis"),n.push(e-1)):t>=e-1-a?(n=ie(e-(i-2),e),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=ie(t-1,t+2),n.push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}var qt,$t,Vt,Yt,Jt,Gt=/^[\d\+\-a-zA-Z]/,Qt=function(t){return!t||"-"===t},Xt=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},Kt=function(t,e){return e&&"string"==typeof t&&(t=t.replace(/[',$£€¥%]/g,"")),!t||"-"===t||!isNaN(parseFloat(t))&&isFinite(t)},Zt=function(t){return!t||"string"==typeof t},te=function(t,e){return!!Qt(t)||(Zt(t)?!!Kt(ae(t),e)||null:null)},ee=function(t,e,n){var a=[],r=0,o=t.length;if(n!==i)for(;r<o;r++)t[r]&&t[r][e]&&a.push(t[r][e][n]);else for(;r<o;r++)t[r]&&a.push(t[r][e]);return a},ne=function(t,e,n,a){var r=[],o=0,s=e.length;if(a!==i)for(;o<s;o++)r.push(t[e[o]][n][a]);else for(;o<s;o++)r.push(t[e[o]][n]);return r},ie=function(t,e){var n,a=[];e===i?(e=0,n=t):(n=e,e=t);for(var r=e;r<n;r++)a.push(r);return a},ae=function(t){return t.replace(/<.*?>/g,"")},re=function(t){var e,n,i,a=[],r=t.length,o=0;t:for(n=0;n<r;n++){for(e=t[n],i=0;i<o;i++)if(a[i]===e)continue t;a.push(e),o++}return a},oe=function(t,e,n){t[e]!==i&&(t[n]=t[e])},se=/\[.*?\]$/,le=/\(\)$/,ue=n("<div>")[0],ce=ue.textContent!==i,de=/<.*?>/g;qt=function(t){function e(t){return function(){var e=[Mt(this[qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qt.ext.internal[t].apply(this,e)}}this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Vt(t?Mt(this[$t.iApiIndex]):this)},this.fnAddData=function(t,e){var a=this.api(!0),r=n.isArray(t)&&(n.isArray(t[0])||n.isPlainObject(t[0]))?a.rows.add(t):a.row.add(t);return(e===i||e)&&a.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],a=n.oScroll;t===i||t?e.draw(!1):""===a.sX&&""===a.sY||pt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var a=this.api(!0),r=a.rows(t),o=r.settings()[0],s=o.aoData[r[0][0]];return r.remove(),e&&e.call(this,o,s),(n===i||n)&&a.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(!t)},this.fnFilter=function(t,e,n,a,r,o){var s=this.api(!0);null===e||e===i?s.search(t,n,a,o):s.column(e).search(t,n,a,o),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var a=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==a||"th"==a?n.cell(t,e).data():n.row(t).data()}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var i=e.cell(t).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show()},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var a=this.api(!0).column(t).visible(e);(n===i||n)&&a.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[$t.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,a,r){var o=this.api(!0);return n===i||null===n?o.row(e).data(t):o.cell(e,n).data(t),(r===i||r)&&o.columns.adjust(),(a===i||a)&&o.draw(),0},this.fnVersionCheck=$t.fnVersionCheck,this.oApi=this.internal={_fnExternApiFunc:e,_fnBuildAjax:W,_fnAjaxUpdate:q,_fnAjaxParameters:$,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:Y,_fnAddColumn:c,_fnColumnOptions:d,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:p,_fnVisbleColumns:g,_fnGetColumns:m,_fnColumnTypes:v,_fnApplyColumnDefs:b,_fnHungarianMap:a,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:u,_fnAddData:y,_fnAddTr:w,_fnNodeToDataIndex:D,_fnNodeToColumnIndex:C,_fnGetRowData:S,_fnGetCellData:T,_fnSetCellData:F,_fnSplitObjNotation:x,_fnGetObjectDataFn:k,_fnSetObjectDataFn:_,_fnGetDataMaster:A,_fnClearTable:I,_fnDeleteIndex:L,_fnInvalidateRow:E,_fnGetRowElements:M,_fnCreateTr:R,_fnBuildHead:N,_fnDrawHead:P,_fnDraw:H,_fnReDraw:z,_fnAddOptionsHtml:j,_fnDetectHeader:O,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:J,_fnFilterComplete:G,_fnFilterCustom:Q,_fnFilterColumn:X,_fnFilter:K,_fnFilterCreateSearch:Z,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:at,_fnInitialise:rt,_fnInitComplete:ot,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:dt,_fnProcessingDisplay:ht,_fnFeatureHtmlTable:ft,_fnScrollDraw:pt,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:vt,_fnConvertToWidth:bt,_fnScrollingWidthAdjust:yt,_fnGetWidestNode:wt,_fnGetMaxLenString:Dt,_fnStringToCss:Ct,_fnScrollBarWidth:St,_fnSortFlatten:Tt,_fnSort:Ft,_fnSortAria:xt,_fnSortListener:kt,_fnSortAttachListener:_t,_fnSortingClasses:At,_fnSortData:It,_fnSaveState:Lt,_fnLoadState:Et,_fnSettingsFromNode:Mt,_fnLog:Rt,_fnMap:Ut,_fnBindAction:Pt,_fnCallbackReg:Ht,_fnCallbackFire:zt,_fnLengthOverflow:jt,_fnRenderer:Ot,_fnDataSource:Bt,_fnRowAttributes:U},n.extend(qt.ext.internal,this.internal);for(var Wt in qt.ext.internal)Wt&&(this[Wt]=e(Wt));var Yt=this,Jt=t===i,Gt=this.length;return Jt&&(t={}),this.each(function(){var e,a={},h=Gt>1?Nt(a,t,!0):t,f=0,p=this.getAttribute("id"),g=!1,m=qt.defaults;if("table"!=this.nodeName.toLowerCase())return void Rt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(m),l(m.column),r(m,m,!0),r(m.column,m.column,!0),r(m,h);var v=qt.settings;for(f=0,e=v.length;f<e;f++){if(v[f].nTable==this){var D=h.bRetrieve!==i?h.bRetrieve:m.bRetrieve,C=h.bDestroy!==i?h.bDestroy:m.bDestroy;if(Jt||D)return v[f].oInstance;if(C){v[f].oInstance.fnDestroy();break}return void Rt(v[f],0,"Cannot reinitialise DataTable",3)}if(v[f].sTableId==this.id){v.splice(f,1);break}}null!==p&&""!==p||(p="DataTables_Table_"+qt.ext._unique++,this.id=p);var S=n.extend(!0,{},qt.models.oSettings,{nTable:this,oApi:Yt.internal,oInit:h,sDestroyWidth:n(this)[0].style.width,sInstance:p,sTableId:p});if(v.push(S),S.oInstance=1===Yt.length?Yt:n(this).dataTable(),s(h),h.oLanguage&&o(h.oLanguage),h.aLengthMenu&&!h.iDisplayLength&&(h.iDisplayLength=n.isArray(h.aLengthMenu[0])?h.aLengthMenu[0][0]:h.aLengthMenu[0]),h=Nt(n.extend(!0,{},m),h),Ut(S.oFeatures,h,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ut(S,h,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ut(S.oScroll,h,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ut(S.oLanguage,h,"fnInfoCallback"),Ht(S,"aoDrawCallback",h.fnDrawCallback,"user"),Ht(S,"aoServerParams",h.fnServerParams,"user"),Ht(S,"aoStateSaveParams",h.fnStateSaveParams,"user"),Ht(S,"aoStateLoadParams",h.fnStateLoadParams,"user"),Ht(S,"aoStateLoaded",h.fnStateLoaded,"user"),Ht(S,"aoRowCallback",h.fnRowCallback,"user"),Ht(S,"aoRowCreatedCallback",h.fnCreatedRow,"user"),Ht(S,"aoHeaderCallback",h.fnHeaderCallback,"user"),Ht(S,"aoFooterCallback",h.fnFooterCallback,"user"),Ht(S,"aoInitComplete",h.fnInitComplete,"user"),Ht(S,"aoPreDrawCallback",h.fnPreDrawCallback,"user"),h.bJQueryUI?(n.extend(S.oClasses,qt.ext.oJUIClasses,h.oClasses),h.sDom===m.sDom&&"lfrtip"===m.sDom&&(S.sDom='<"H"lfr>t<"F"ip>'),S.renderer?n.isPlainObject(S.renderer)&&!S.renderer.header&&(S.renderer.header="jqueryui"):S.renderer="jqueryui"):n.extend(S.oClasses,qt.ext.classes,h.oClasses),n(this).addClass(S.oClasses.sTable),""===S.oScroll.sX&&""===S.oScroll.sY||(S.oScroll.iBarWidth=St()),!0===S.oScroll.sX&&(S.oScroll.sX="100%"),S.iInitDisplayStart===i&&(S.iInitDisplayStart=h.iDisplayStart,S._iDisplayStart=h.iDisplayStart),null!==h.iDeferLoading){S.bDeferLoading=!0;var T=n.isArray(h.iDeferLoading);S._iRecordsDisplay=T?h.iDeferLoading[0]:h.iDeferLoading,S._iRecordsTotal=T?h.iDeferLoading[1]:h.iDeferLoading}""!==h.oLanguage.sUrl?(S.oLanguage.sUrl=h.oLanguage.sUrl,n.getJSON(S.oLanguage.sUrl,null,function(t){o(t),r(m.oLanguage,t),n.extend(!0,S.oLanguage,h.oLanguage,t),rt(S)}),g=!0):n.extend(!0,S.oLanguage,h.oLanguage),null===h.asStripeClasses&&(S.asStripeClasses=[S.oClasses.sStripeOdd,S.oClasses.sStripeEven]);var F=S.asStripeClasses,x=n("tbody tr:eq(0)",this);-1!==n.inArray(!0,n.map(F,function(t,e){return x.hasClass(t)}))&&(n("tbody tr",this).removeClass(F.join(" ")),S.asDestroyStripes=F.slice());var k,_=[],A=this.getElementsByTagName("thead");if(0!==A.length&&(O(S.aoHeader,A[0]),_=B(S)),null===h.aoColumns)for(k=[],f=0,e=_.length;f<e;f++)k.push(null);else k=h.aoColumns;for(f=0,e=k.length;f<e;f++)c(S,_?_[f]:null);if(b(S,h.aoColumnDefs,k,function(t,e){d(S,t,e)}),x.length){var I=function(t,e){return t.getAttribute("data-"+e)?e:null};n.each(M(S,x[0]).cells,function(t,e){var n=S.aoColumns[t];if(n.mData===t){var a=I(e,"sort")||I(e,"order"),r=I(e,"filter")||I(e,"search");null===a&&null===r||(n.mData={_:t+".display",sort:null!==a?t+".@data-"+a:i,type:null!==a?t+".@data-"+a:i,filter:null!==r?t+".@data-"+r:i},d(S,t))}})}if(h.bStateSave&&(S.oFeatures.bStateSave=!0,Et(S,h),Ht(S,"aoDrawCallback",Lt,"state_save")),h.aaSorting===i)for(f=0,e=S.aaSorting.length;f<e;f++)S.aaSorting[f][1]=S.aoColumns[f].asSorting[0];At(S),S.oFeatures.bSort&&Ht(S,"aoDrawCallback",function(){if(S.bSorted){var t=Tt(S),e={};n.each(t,function(t,n){e[n.src]=n.dir}),zt(S,null,"order",[S,t,e]),At(S),xt(S)}}),u(S);var L=n(this).children("caption").each(function(){this._captionSide=n(this).css("caption-side")}),E=n(this).children("thead");0===E.length&&(E=n("<thead/>").appendTo(this)),S.nTHead=E[0];var R=n(this).children("tbody");0===R.length&&(R=n("<tbody/>").appendTo(this)),S.nTBody=R[0];var U=n(this).children("tfoot");if(0===U.length&&L.length>0&&(""!==S.oScroll.sX||""!==S.oScroll.sY)&&(U=n("<tfoot/>").appendTo(this)),0===U.length||0===U.children().length?n(this).addClass(S.oClasses.sNoFooter):U.length>0&&(S.nTFoot=U[0],O(S.aoFooter,S.nTFoot)),h.aaData)for(f=0;f<h.aaData.length;f++)y(S,h.aaData[f]);else(S.bDeferLoading||"dom"==Bt(S))&&w(S,n(S.nTBody).children("tr"));S.aiDisplay=S.aiDisplayMaster.slice(),S.bInitialised=!0,!1===g&&rt(S)}),Yt=null,this};var he=[],fe=Array.prototype,pe=function(t){var e,i,a=qt.settings,r=n.map(a,function(t,e){return t.nTable});return t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(e=n.inArray(t,r),-1!==e?[a[e]]:null):("string"==typeof t?i=n(t):t instanceof n&&(i=t),i?i.map(function(t){return e=n.inArray(this,r),-1!==e?a[e]:null}):void 0)};qt.Api=Vt=function(t,e){if(!this instanceof Vt)throw"DT API must be constructed as a new object";var i=[],a=function(t){var e=pe(t);e&&i.push.apply(i,e)};if(n.isArray(t))for(var r=0,o=t.length;r<o;r++)a(t[r]);else a(t);this.context=re(i),e&&this.push.apply(this,e),this.selector={rows:null,cols:null,opts:null},Vt.extend(this,this,he)},Vt.prototype={concat:fe.concat,context:[],each:function(t){if(fe.forEach)fe.forEach.call(this,t,this);else for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},filter:function(t){var e=[];if(fe.filter)e=fe.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Vt(this.context,e)},flatten:function(){var t=[];return new Vt(this.context,t.concat.apply(t,this))},join:fe.join,indexOf:fe.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n){var a,r,o,s,l,u,c,d,h=[],f=this.context,p=this.selector;for("string"==typeof t&&(n=e,e=t,t=!1),r=0,o=f.length;r<o;r++)if("table"===e)(a=n(f[r],r))!==i&&h.push(a);else if("columns"===e||"rows"===e)(a=n(f[r],this[r],r))!==i&&h.push(a);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[r],"column-rows"===e&&(u=we(f[r],p.opts)),s=0,l=c.length;s<l;s++)d=c[s],(a="cell"===e?n(f[r],d.row,d.column,r,s):n(f[r],d,r,s,u))!==i&&h.push(a);if(h.length){var g=new Vt(f,t?h.concat.apply([],h):h),m=g.selector;return m.rows=p.rows,m.cols=p.cols,m.opts=p.opts,g}return this},lastIndexOf:fe.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(fe.map)e=fe.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new Vt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:fe.pop,push:fe.push,reduce:fe.reduce||function(t,e){var n,i=!1;arguments.length>1&&(n=e,i=!0);for(var a=0,r=this.length;a<r;a++)this.hasOwnProperty(a)&&(n=i?t(n,this[a],a,this):this[a],i=!0);return n},reduceRight:fe.reduceRight||function(t,e){var n,i=!1;arguments.length>1&&(n=e,i=!0);for(var a=this.length-1;a>=0;a--)this.hasOwnProperty(a)&&(n=i?t(n,this[a],a,this):this[a],i=!0);return n},reverse:fe.reverse,selector:null,shift:fe.shift,sort:fe.sort,splice:fe.splice,toArray:function(){return fe.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new Vt(this.context,re(this))},unshift:fe.unshift},Vt.extend=function(t,e,n){if(e&&(e instanceof Vt||e.__dt_wrapper)){var i,a,r;for(i=0,a=n.length;i<a;i++)r=n[i],e[r.name]="function"==typeof r.val?function(e,n){return function(){var i=e.apply(t,arguments);return Vt.extend(i,i,n.methodExt),i}}(r.val,r):r.val,e[r.name].__dt_wrapper=!0,Vt.extend(t,e[r.name],r.propExt)}},Vt.register=Yt=function(t,e){if(n.isArray(t))for(var i=0,a=t.length;i<a;i++)Vt.register(t[i],e);else{var r,o,s,l,u=t.split("."),c=he;for(r=0,o=u.length;r<o;r++){l=-1!==u[r].indexOf("()"),s=l?u[r].replace("()",""):u[r];var d=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null}(c,s);d||(d={name:s,val:{},methodExt:[],propExt:[]},c.push(d)),r===o-1?d.val=e:c=l?d.methodExt:d.propExt}Vt.ready&&qt.api.build()}},Vt.registerPlural=Jt=function(t,e,a){Vt.register(t,a),Vt.register(e,function(){var t=a.apply(this,arguments);return t===this?this:t instanceof Vt?t.length?n.isArray(t[0])?new Vt(t.context,t[0]):t[0]:i:t})};var ge=function(t,e){if("number"==typeof t)return[e[t]];var i=n.map(e,function(t,e){return t.nTable});return n(i).filter(t).map(function(t){var a=n.inArray(this,i);return e[a]}).toArray()};Yt("tables()",function(t){return t?new Vt(ge(t,this.context)):this}),Yt("table()",function(t){var e=this.tables(t),n=e.context;return n.length&&(n.length=1),e}),Jt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable})}),Jt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody})}),Jt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead})}),Jt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot})}),Yt("draw()",function(t){return this.iterator("table",function(e){z(e,!1===t)})}),Yt("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){ct(e,t)})}),Yt("page.info()",function(t){if(0===this.context.length)return i;var e=this.context[0],n=e._iDisplayStart,a=e._iDisplayLength,r=e.fnRecordsDisplay(),o=-1===a;return{page:o?0:Math.floor(n/a),pages:o?1:Math.ceil(r/a),start:n,end:e.fnDisplayEnd(),length:a,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r}}),Yt("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){st(e,t)})});var me=function(t,e,n){"ssp"==Bt(t)?z(t,e):W(t,[],function(i){I(t);for(var a=Y(t,i),r=0,o=a.length;r<o;r++)y(t,a[r]);z(t,e),n&&n(i)})};Yt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),Yt("ajax.reload()",function(t,e){return this.iterator("table",function(n){me(n,!1===e,t)})}),Yt("ajax.url()",function(t){var e=this.context;return t===i?0===e.length?i:(e=e[0],e.ajax?n.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource):this.iterator("table",function(e){n.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Yt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){me(n,!1===e,t)})});var ve=function(t,e){var i,a,r,o,s,l,u=[];for(n.isArray(t)||(t=[t]),r=0,o=t.length;r<o;r++)for(a=t[r]&&t[r].split?t[r].split(","):[t[r]],s=0,l=a.length;s<l;s++)(i=e("string"==typeof a[s]?n.trim(a[s]):a[s]))&&i.length&&u.push.apply(u,i);return u},be=function(t){return t||(t={}),t.filter&&!t.search&&(t.search=t.filter),{search:t.search||"none",order:t.order||"current",page:t.page||"all"}},ye=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t.length=1,t.context=[t.context[e]],t;return t.length=0,t},we=function(t,e){var i,a,r,o=[],s=t.aiDisplay,l=t.aiDisplayMaster,u=e.search,c=e.order;if("current"==e.page)for(i=t._iDisplayStart,a=t.fnDisplayEnd();i<a;i++)o.push(s[i]);else if("current"==c||"applied"==c)o="none"==u?l.slice():"applied"==u?s.slice():n.map(l,function(t,e){return-1===n.inArray(t,s)?t:null});else if("index"==c||"original"==c)for(i=0,a=t.aoData.length;i<a;i++)"none"==u?o.push(i):(-1===(r=n.inArray(i,s))&&"removed"==u||1===r&&"applied"==u)&&o.push(i);return o},De=function(t,e,i){return ve(e,function(e){var a=Xt(e);if(null!==a&&!i)return[a];var r=we(t,i);if(null!==a&&-1!==n.inArray(a,r))return[a];if(!e)return r;for(var o=[],s=0,l=r.length;s<l;s++)o.push(t.aoData[r[s]].nTr);return e.nodeName&&-1!==n.inArray(e,o)?[e._DT_RowIndex]:n(o).filter(e).map(function(){return this._DT_RowIndex}).toArray()})};Yt("rows()",function(t,e){t===i?t="":n.isPlainObject(t)&&(e=t,t=""),e=be(e);var a=this.iterator("table",function(n){return De(n,t,e)});return a.selector.rows=t,a.selector.opts=e,a}),Jt("rows().nodes()","row().node()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i})}),Yt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ne(t.aoData,e,"_aData")})}),Jt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData})}),Jt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){E(e,n,t)})}),Jt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e})}),Jt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,a){var r=e.aoData;r.splice(i,1);for(var o=0,s=r.length;o<s;o++)null!==r[o].nTr&&(r[o].nTr._DT_RowIndex=o);n.inArray(i,e.aiDisplay);L(e.aiDisplayMaster,i),L(e.aiDisplay,i),L(t[a],i,!1),jt(e)})}),Yt("rows.add()",function(t){var e=this.iterator("table",function(e){var n,i,a,r=[];for(i=0,a=t.length;i<a;i++)n=t[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(w(e,n)[0]):r.push(y(e,n));return r}),n=this.rows(-1);return n.pop(),n.push.apply(n,e),n}),Yt("row()",function(t,e){return ye(this.rows(t,e))}),Yt("row().data()",function(t){var e=this.context;return t===i?e.length&&this.length?e[0].aoData[this[0]]._aData:i:(e[0].aoData[this[0]]._aData=t,E(e[0],this[0],"data"),this)}),Yt("row.add()",function(t){t instanceof n&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:y(e,t)});return this.row(e[0])});var Ce=function(t,e,i,a){var r=[],o=function(e,i){e.nodeName&&"tr"===e.nodeName.toUpperCase()||(e=n("<tr><td></td></tr>").find("td").html(e).parent()),n("td",e).addClass(i)[0].colSpan=g(t),r.push(e[0])};if(n.isArray(i)||i instanceof n)for(var s=0,l=i.length;s<l;s++)o(i[s],a);else o(i,a);e._details&&e._details.remove(),e._details=n(r),e._detailsShow&&e._details.insertAfter(e.nTr)},Se=function(t){var e=this.context;if(e.length&&this.length){var n=e[0].aoData[this[0]];n._details&&(n._detailsShow=t,t?n._details.insertAfter(n.nTr):n._details.remove(),Te(e[0]))}return this},Te=function(t){var e=n(t.nTable);e.off("draw.DT_details"),e.off("column-visibility.DT_details"),ee(t.aoData,"_details").length>0&&(e.on("draw.DT_details",function(){e.find("tbody tr").each(function(){var e=D(t,this),n=t.aoData[e];n._detailsShow&&n._details.insertAfter(this)})}),e.on("column-visibility.DT_details",function(t,e,n,i){for(var a,r=g(e),o=0,s=e.aoData.length;o<s;o++)a=e.aoData[o],a._details&&a._details.children("td[colspan]").attr("colspan",r)}))};Yt("row().child()",function(t,e){var n=this.context;return t===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(n.length&&this.length&&Ce(n[0],n[0].aoData[this[0]],t,e),this)}),Yt(["row().child.show()","row().child().show()"],function(){Se.call(this,!0)}),Yt(["row().child.hide()","row().child().hide()"],function(){Se.call(this,!1)}),Yt("row().child.isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Fe=function(t,e,i){var a=t.aoColumns,r=ee(a,"sName"),o=ee(a,"nTh");return ve(e,function(e){var i=Xt(e);if(""===e)return ie(t.aoColumns.length);if(null!==i)return[i>=0?i:a.length+i];var s=e.match(/^(.*):(name|visIdx|visible)$/);if(!s)return n(o).filter(e).map(function(){return n.inArray(this,o)}).toArray();switch(s[2]){case"visIdx":case"visible":var l=parseInt(s[1],10);if(l<0){var u=n.map(a,function(t,e){return t.bVisible?e:null});return[u[u.length+l]]}return[f(t,l)];case"name":return n.map(r,function(t,e){return t===s[1]?e:null})}})},xe=function(t,e,a){var r,o,s,l,u=t.aoColumns,c=u[e],d=t.aoData;if(a===i)return c.bVisible;if(c.bVisible!==a){if(a){var f=n.inArray(!0,ee(u,"bVisible"),e+1);for(o=0,s=d.length;o<s;o++)l=d[o].nTr,r=d[o].anCells,l&&l.insertBefore(r[e],r[f]||null)}else n(ee(t.aoData,"anCells",e)).remove(),c.bVisible=!1,P(t,t.aoHeader),P(t,t.aoFooter),Lt(t);c.bVisible=a,P(t,t.aoHeader),P(t,t.aoFooter),h(t),(t.oScroll.sX||t.oScroll.sY)&&pt(t),zt(t,null,"column-visibility",[t,e,a]),Lt(t)}};Yt("columns()",function(t,e){t===i?t="":n.isPlainObject(t)&&(e=t,t=""),e=be(e);var a=this.iterator("table",function(e){return Fe(e,t)});return a.selector.cols=t,a.selector.opts=e,a}),Jt("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh})}),Jt("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf})}),Jt("columns().data()","column().data()",function(){return this.iterator("column-rows",function(t,e,n,i,a){for(var r=[],o=0,s=a.length;o<s;o++)r.push(T(t,a[o],e,""));return r})}),Jt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,a,r){return ne(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",n)})}),Jt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,a){return ne(t.aoData,a,"anCells",e)})}),Jt("columns().visible()","column().visible()",function(t){return this.iterator("column",function(e,n){return xe(e,n,t)})}),Jt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?p(e,n):n})}),Yt("columns.adjust()",function(){return this.iterator("table",function(t){h(t)})}),Yt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return f(n,e)}}),Yt("column()",function(t,e){return ye(this.columns(t,e))});var ke=function(t,e,i){var a,r,o,s,l,u=t.aoData,c=we(t,i),d=ne(u,c,"anCells"),h=n([].concat.apply([],d)),f=t.aoColumns.length;return ve(e,function(t){if(!t){for(r=[],o=0,s=c.length;o<s;o++)for(a=c[o],l=0;l<f;l++)r.push({row:a,column:l});return r}return h.filter(t).map(function(t,e){return a=e.parentNode._DT_RowIndex,{row:a,column:n.inArray(e,u[a].anCells)}})})};Yt("cells()",function(t,e,a){if(n.isPlainObject(t)&&(a=t,t=null),n.isPlainObject(e)&&(a=e,e=null),null===e||e===i)return this.iterator("table",function(e){return ke(e,t,be(a))});var r,o,s,l,u,c=this.columns(e,a),d=this.rows(t,a),h=this.iterator("table",function(t,e){for(r=[],o=0,s=d[e].length;o<s;o++)for(l=0,u=c[e].length;l<u;l++)r.push({row:d[e][o],column:c[e][l]});return r});return n.extend(h.selector,{cols:e,rows:t,opts:a}),h}),Jt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return t.aoData[e].anCells[n]})}),Yt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return T(t,e,n)})}),Jt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]})}),Jt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:p(t,n)}})}),Yt(["cells().invalidate()","cell().invalidate()"],function(t){var e=this.selector;return this.rows(e.rows,e.opts).invalidate(t),this}),Yt("cell()",function(t,e,n){return ye(this.cells(t,e,n))}),Yt("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?T(e[0],n[0].row,n[0].column):i:(F(e[0],n[0].row,n[0].column,t),E(e[0],n[0].row,"data",n[0].column),this)}),Yt("order()",function(t,e){var a=this.context;return t===i?0!==a.length?a[0].aaSorting:i:("number"==typeof t?t=[[t,e]]:n.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Yt("order.listener()",function(t,e,n){return this.iterator("table",function(i){_t(i,t,e,n)})}),Yt(["columns().order()","column().order()"],function(t){var e=this;return this.iterator("table",function(i,a){var r=[];n.each(e[a],function(e,n){r.push([n,t])}),i.aaSorting=r})}),Yt("search()",function(t,e,a,r){var o=this.context;return t===i?0!==o.length?o[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&G(i,n.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===a||a,bCaseInsensitive:null===r||r}),1)})}),Yt(["columns().search()","column().search()"],function(t,e,a,r){return this.iterator("column",function(o,s){var l=o.aoPreSearchCols;if(t===i)return l[s].sSearch;o.oFeatures.bFilter&&(n.extend(l[s],{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===a||a,bCaseInsensitive:null===r||r}),G(o,o.oPreviousSearch,1))})}),qt.versionCheck=qt.fnVersionCheck=function(t){for(var e,n,i=qt.version.split("."),a=t.split("."),r=0,o=a.length;r<o;r++)if(e=parseInt(i[r],10)||0,n=parseInt(a[r],10)||0,e!==n)return e>n;return!0},qt.isDataTable=qt.fnIsDataTable=function(t){var e=n(t).get(0),i=!1;return n.each(qt.settings,function(t,n){n.nTable!==e&&n.nScrollHead!==e&&n.nScrollFoot!==e||(i=!0)}),i},qt.tables=qt.fnTables=function(t){return jQuery.map(qt.settings,function(e){if(!t||t&&n(e.nTable).is(":visible"))return e.nTable})},Yt("$()",function(t,e){var i=this.rows(e).nodes(),a=n(i);return n([].concat(a.filter(t).toArray(),a.find(t).toArray()))}),n.each(["on","one","off"],function(t,e){Yt(e+"()",function(){var t=Array.prototype.slice.call(arguments);-1===t[0].indexOf(".dt")&&(t[0]+=".dt");var i=n(this.tables().nodes());return i[e].apply(i,t),this})}),Yt("clear()",function(){return this.iterator("table",function(t){I(t)})}),Yt("settings()",function(){return new Vt(this.context,this.context)}),Yt("data()",function(){return this.iterator("table",function(t){return ee(t.aoData,"_aData")}).flatten()}),Yt("destroy()",function(e){return e=e||!1,this.iterator("table",function(i){var a,r=i.nTableWrapper.parentNode,o=i.oClasses,s=i.nTable,l=i.nTBody,u=i.nTHead,c=i.nTFoot,d=n(s),h=n(l),f=n(i.nTableWrapper),p=n.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,zt(i,"aoDestroyCallback","destroy",[i]),e||new Vt(i).columns().visible(!0),f.unbind(".DT").find(":not(tbody *)").unbind(".DT"),n(t).unbind(".DT-"+i.sInstance),s!=u.parentNode&&(d.children("thead").remove(),d.append(u)),c&&s!=c.parentNode&&(d.children("tfoot").remove(),d.append(c)),d.remove(),f.remove(),i.aaSorting=[],i.aaSortingFixed=[],At(i),n(p).removeClass(i.asStripeClasses.join(" ")),n("th, td",u).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),i.bJUI&&(n("th span."+o.sSortIcon+", td span."+o.sSortIcon,u).remove(),n("th, td",u).each(function(){var t=n("div."+o.sSortJUIWrapper,this);n(this).append(t.contents()),t.remove()})),
e||r.insertBefore(s,i.nTableReinsertBefore),h.children().detach(),h.append(p),d.css("width",i.sDestroyWidth).removeClass(o.sTable),(a=i.asDestroyStripes.length)&&h.children().each(function(t){n(this).addClass(i.asDestroyStripes[t%a])});var g=n.inArray(i,qt.settings);-1!==g&&qt.settings.splice(g,1)})}),qt.version="1.10.0-dev",qt.settings=[],qt.models={},qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},qt.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sInfoThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance+"_"+t.location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,n){try{localStorage.setItem("DataTables_"+e.sInstance+"_"+t.location.pathname,JSON.stringify(n))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:"：激活排序列升序",sSortDescending:"：激活排序列降序"},oPaginate:{sFirst:"第一页",sLast:"最后一页",sNext:"下一页",sPrevious:"上一页"},sEmptyTable:"没有数据",sInfo:"显示 _START_ 到 _END_ 项，共 _TOTAL_ 项",sInfoEmpty:"显示0项",sInfoFiltered:"（从 _MAX_ 中筛选）",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"显示 _MENU_ entries",sLoadingRecords:"加载中…",sProcessing:"处理中…",sSearch:"查找：",sUrl:"",sZeroRecords:"没有找到符合条件的记录"},oSearch:n.extend({},qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},a(qt.defaults),qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(qt.defaults.column),qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Bt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Bt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,a=this.oFeatures,r=a.bPaginate;return a.bServerSide?!1===r||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!r||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},qt.ext=$t={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:!1},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qt.version},n.extend($t,{afnFiltering:$t.filter,aTypes:$t.type.detect,ofnSearch:$t.type.search,oSort:$t.type.order,afnSortData:$t.order,aoFeatures:$t.feature,oApi:$t.internal,oStdClasses:$t.classes,oPagination:$t.pager}),n.extend(qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var t="";t="";var e=t+"ui-state-default",i=t+"css_right ui-icon ui-icon-",a=t+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";n.extend(qt.ext.oJUIClasses,qt.ext.classes,{sPageButton:"fg-button ui-button "+e,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:e+" sorting_asc",sSortDesc:e+" sorting_desc",sSortable:e+" sorting",sSortableAsc:e+" sorting_asc_disabled",sSortableDesc:e+" sorting_desc_disabled",sSortableNone:e+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+e,sScrollFoot:"dataTables_scrollFoot "+e,sHeaderTH:e,sFooterTH:e,sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})}();var _e=qt.ext.pager;n.extend(_e,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},simple_numbers:function(t,e){return["previous",Wt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Wt(t,e),"next","last"]},_numbers:Wt,numbers_length:7}),n.extend(!0,qt.ext.renderer,{pageButton:{_:function(t,e,i,a,r,o){var s,l,u=t.oClasses,c=t.oLanguage.oPaginate,d=function(e,a){var h,f,p,g,m=function(e){ct(t,e.data.action,!0)};for(h=0,f=a.length;h<f;h++)if(g=a[h],n.isArray(g)){var v=n("<"+(g.DT_el||"div")+"/>").appendTo(e);d(v,g)}else{switch(s="",l="",g){case"ellipsis":e.append("<span>&hellip;</span>");break;case"first":s=c.sFirst,l=g+(r>0?"":" "+u.sPageButtonDisabled);break;case"previous":s=c.sPrevious,l=g+(r>0?"":" "+u.sPageButtonDisabled);break;case"next":s=c.sNext,l=g+(r<o-1?"":" "+u.sPageButtonDisabled);break;case"last":s=c.sLast,l=g+(r<o-1?"":" "+u.sPageButtonDisabled);break;default:s=g+1,l=r===g?u.sPageButtonActive:""}s&&(p=n("<a>",{class:u.sPageButton+" "+l,"aria-controls":t.sTableId,tabindex:t.iTabIndex,id:0===i&&"string"==typeof g?t.sTableId+"_"+g:null}).html(s).appendTo(e),Pt(p,{action:g},m))}};d(n(e).empty(),a)}}});var Ae=function(t,e,n){return t&&"-"!==t?(t.replace&&(e&&(t=t.replace(e,"")),n&&(t=t.replace(n,""))),1*t):-1/0};n.extend(qt.ext.type.order,{"date-pre":function(t){return Date.parse(t)||0},"numeric-pre":function(t){return Ae(t)},"numeric-fmt-pre":function(t){return Ae(t,/[',$£€¥%]/g)},"html-numeric-pre":function(t){return Ae(t,/<.*?>/g)},"html-numeric-fmt-pre":function(t){return Ae(t,/<.*?>/g,/[',$£€¥%]/g)},"html-pre":function(t){return t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return"string"==typeof t?t.toLowerCase():t&&t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),n.extend(qt.ext.type.detect,[function(t){return Kt(t)?"numeric":null},function(t){if(t&&!Gt.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Qt(t)?"date":null},function(t){return Kt(t,!0)?"numeric-fmt":null},function(t){return te(t)?"html-numeric":null},function(t){return te(t,!0)?"html-numeric-fmt":null},function(t){return Qt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),n.extend(qt.ext.type.search,{html:function(t){return Qt(t)?"":"string"==typeof t?t.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):""},string:function(t){return Qt(t)?"":"string"==typeof t?t.replace(/[\r\n]/g," "):t}}),n.extend(!0,qt.ext.renderer,{header:{_:function(t,e,i,a,r){n(t.nTable).on("order.dt",function(t,n,o,s){e.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[a]?r.sSortAsc:"desc"==s[a]?r.sSortDesc:i.sSortingClass)})},jqueryui:function(t,e,i,a,r){n("<div/>").addClass(r.sSortJUIWrapper).append(e.contents()).append(n("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(e),n(t.nTable).on("order.dt",function(t,n,o,s){e.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[a]?r.sSortAsc:"desc"==s[a]?r.sSortDesc:i.sSortingClass),e.find("span").removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[a]?r.sSortJUIAsc:"desc"==s[a]?r.sSortJUIDesc:i.sSortingClassJUI)})}}}),n.fn.dataTable=qt,n.fn.dataTableSettings=qt.settings,n.fn.dataTableExt=qt.ext,n.fn.DataTable=function(t){return n(this).dataTable(t).api()},n.each(qt,function(t,e){n.fn.DataTable[t]=e})})}(window,document,jQuery),function($){$.fn.editable=function(t,e){if("disable"==t)return void $(this).data("disabled.editable",!0);if("enable"==t)return void $(this).data("disabled.editable",!1);if("destroy"==t)return void $(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");var n=$.extend({},$.fn.editable.defaults,{target:t},e),i=$.editable.types[n.type].plugin||function(){},a=$.editable.types[n.type].submit||function(){},r=$.editable.types[n.type].buttons||$.editable.types.defaults.buttons,o=$.editable.types[n.type].content||$.editable.types.defaults.content,s=$.editable.types[n.type].element||$.editable.types.defaults.element,l=$.editable.types[n.type].reset||$.editable.types.defaults.reset,u=n.callback||function(){},c=n.onedit||function(){},d=n.onsubmit||function(){},h=n.onreset||function(){},f=n.onerror||l;return n.tooltip&&$(this).attr("title",n.tooltip),n.autowidth="auto"==n.width,n.autoheight="auto"==n.height,this.each(function(){var t=this,e=$(t).width(),p=$(t).height();$(this).data("event.editable",n.event),$.trim($(this).html())||$(this).html(n.placeholder),$(this).bind(n.event,function(h){if(!0!==$(this).data("disabled.editable")&&!t.editing&&!1!==c.apply(this,[n,t])){h.preventDefault(),h.stopPropagation(),n.tooltip&&$(t).removeAttr("title"),0==$(t).width()?(n.width=e,n.height=p):("none"!=n.width&&(n.width=n.autowidth?$(t).width():n.width),"none"!=n.height&&(n.height=n.autoheight?$(t).height():n.height)),$(this).html().toLowerCase().replace(/(;|")/g,"")==n.placeholder.toLowerCase().replace(/(;|")/g,"")&&$(this).html(""),t.editing=!0,t.revert=$(t).html(),$(t).html("");var g=$("<form />");n.cssclass&&("inherit"==n.cssclass?g.attr("class",$(t).attr("class")):g.attr("class",n.cssclass)),n.style&&("inherit"==n.style?(g.attr("style",$(t).attr("style")),g.css("display",$(t).css("display"))):g.attr("style",n.style));var m,v=s.apply(g,[n,t]);if(n.loadurl){var b=setTimeout(function(){v.disabled=!0,o.apply(g,[n.loadtext,n,t])},100),y={};y[n.id]=t.id,$.isFunction(n.loaddata)?$.extend(y,n.loaddata.apply(t,[t.revert,n])):$.extend(y,n.loaddata),$.ajax({type:n.loadtype,url:n.loadurl,data:y,async:!1,success:function(t){window.clearTimeout(b),m=t,v.disabled=!1}})}else n.data?(m=n.data,$.isFunction(n.data)&&(m=n.data.apply(t,[t.revert,n]))):m=t.revert;o.apply(g,[m,n,t]),v.attr("name",n.name),r.apply(g,[n,t]),$(t).append(g),i.apply(g,[n,t]),$(":input:visible:enabled:first",g).focus(),n.select&&v.select(),v.keydown(function(e){27==e.keyCode&&(e.preventDefault(),l.apply(g,[n,t]))});var b;"cancel"==n.onblur?v.blur(function(e){b=setTimeout(function(){l.apply(g,[n,t])},500)}):"submit"==n.onblur?v.blur(function(t){b=setTimeout(function(){g.submit()},200)}):$.isFunction(n.onblur)?v.blur(function(e){n.onblur.apply(t,[v.val(),n])}):v.blur(function(t){}),g.submit(function(e){if(b&&clearTimeout(b),e.preventDefault(),!1!==d.apply(g,[n,t])&&!1!==a.apply(g,[n,t]))if($.isFunction(n.target)){var i=n.target.apply(t,[v.val(),n]);$(t).html(i),t.editing=!1,u.apply(t,[t.innerHTML,n]),$.trim($(t).html())||$(t).html(n.placeholder)}else{var r={};r[n.name]=v.val(),r[n.id]=t.id,$.isFunction(n.submitdata)?$.extend(r,n.submitdata.apply(t,[t.revert,n])):$.extend(r,n.submitdata),"PUT"==n.method&&(r._method="put"),$(t).html(n.indicator);var o={type:"POST",data:r,dataType:"html",url:n.target,success:function(e,i){"html"==o.dataType&&$(t).html(e),t.editing=!1,u.apply(t,[e,n]),$.trim($(t).html())||$(t).html(n.placeholder)},error:function(e,i,a){f.apply(g,[n,t,e])}};$.extend(o,n.ajaxoptions),$.ajax(o)}return $(t).attr("title",n.tooltip),!1})}}),this.reset=function(e){this.editing&&!1!==h.apply(e,[n,t])&&($(t).html(t.revert),t.editing=!1,$.trim($(t).html())||$(t).html(n.placeholder),n.tooltip&&$(t).attr("title",n.tooltip))}})},$.editable={types:{defaults:{element:function(t,e){var n=$('<input type="hidden"></input>');return $(this).append(n),n},content:function(t,e,n){$(":input:first",this).val(t)},reset:function(t,e){e.reset(this)},buttons:function(t,e){var n=this;if(t.submit){if(t.submit.match(/>$/))var i=$(t.submit).click(function(){"submit"!=i.attr("type")&&n.submit()});else{var i=$('<button type="submit" />');i.html(t.submit)}$(this).append(i)}if(t.cancel){if(t.cancel.match(/>$/))var a=$(t.cancel);else{var a=$('<button type="cancel" />');a.html(t.cancel)}$(this).append(a),$(a).click(function(i){if($.isFunction($.editable.types[t.type].reset))var a=$.editable.types[t.type].reset;else var a=$.editable.types.defaults.reset;return a.apply(n,[t,e]),!1})}}},text:{element:function(t,e){var n=$("<input />");return"none"!=t.width&&n.width(t.width),"none"!=t.height&&n.height(t.height),n.attr("autocomplete","off"),$(this).append(n),n}},textarea:{element:function(t,e){var n=$("<textarea />");return t.rows?n.attr("rows",t.rows):"none"!=t.height&&n.height(t.height),t.cols?n.attr("cols",t.cols):"none"!=t.width&&n.width(t.width),$(this).append(n),n}},select:{element:function(t,e){var n=$("<select />");return $(this).append(n),n},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){$(this).val()!=json.selected&&$(this).text()!=$.trim(original.revert)||$(this).attr("selected","selected")})}}},addInputType:function(t,e){$.editable.types[t]=e}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),!1)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n;return t(this[0]).is("form")?e=this.validate().form():(e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i,a,r,o,s,l,u=this[0];if(e)switch(i=t.data(u.form,"validator").settings,a=i.rules,r=t.validator.staticRules(u),e){case"add":t.extend(r,t.validator.normalizeRule(n)),delete r.messages,a[u.name]=r,n.messages&&(i.messages[u.name]=t.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=r[n],delete r[n],"required"===n&&t(u).removeAttr("aria-required")}),l):(delete a[u.name],r)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),o.required&&(s=o.required,delete o.required,o=t.extend({required:s},o),t(u).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=t.extend(o,{remote:s})),o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,""),a=n.settings;a[i]&&!this.is(a.ignore)&&a[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n=this.clean(e),i=this.validationTargetFor(n),a=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=t(i),a=!1!==this.check(i),a?delete this.invalid[i.name]:this.invalid[i.name]=!0),t(e).attr("aria-invalid",!a),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!e.objectLength(t(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i=t(e),a=e.type;return"radio"===a||"checkbox"===a?t("input[name='"+e.name+"']:checked").val():"number"===a&&void 0!==e.validity?!e.validity.badInput&&i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,a,r=t(e).rules(),o=t.map(r,function(t,e){return e}).length,s=!1,l=this.elementValue(e);for(i in r){a={method:i,parameters:r[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,l,e,a.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,a),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+a.method+"' method.",t),t}}if(!s)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),a=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):a.test(i)&&(i=t.validator.format(i.replace(a,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e,method:n.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,a,r,o=this.errorsFor(e),s=this.idOrName(e),l=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(o=t("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(n||""),i=o,this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+s+"']").length&&(r=o.attr("id"),l?l.match(new RegExp("\b"+r+"\b"))||(l+=" "+r):l=r,t(e).attr("aria-describedby",l),(a=this.groups[e.name])&&t.each(this.groups,function(e,n){n===a&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!n&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var n=this.idOrName(e),i=t(e).attr("aria-describedby"),a="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(a=a+", #"+i.replace(/\s+/g,", #")),this.errors().filter(a)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},function:function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n,i,a={},r=t(e),o=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(i=e.getAttribute(n),""===i&&(i=!0),i=!!i):i=r.attr(n),/min|max/.test(n)&&(null===o||/number|range|text/.test(o))&&(i=Number(i)),
i||0===i?a[n]=i:o===n&&"range"!==o&&(a[n]=!0);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var n,i,a={},r=t(e);for(n in t.validator.methods)void 0!==(i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(a[n]=i);return a},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,a){if(!1===a)return void delete e[i];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!t(a.depends,n.form).length;break;case"function":r=a.depends.call(n,n)}r?e[i]=void 0===a.param||a.param:delete e[i]}}),t.each(e,function(i,a){e[i]=t.isFunction(a)?a(n):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var a=t(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,a=0,r=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),r=parseInt(i,10),o&&(r*=2)>9&&(r-=9),a+=r,o=!o;return a%10==0},minlength:function(e,n,i){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||a>=i},maxlength:function(e,n,i){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||i>=a},rangelength:function(e,n,i){var a=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||a>=i[0]&&a<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var a=t(i);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===a.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var a,r,o=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),o.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=o.message,i="string"==typeof i&&{url:i}||i,o.old===e?o.valid:(o.old=e,a=this,this.startRequest(n),r={},r[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:r,context:a.currentForm,success:function(i){var r,s,l,u=!0===i||"true"===i;a.settings.messages[n.name].remote=o.originalMessage,u?(l=a.formSubmitted,a.prepareElement(n),a.formSubmitted=l,a.successList.push(n),delete a.invalid[n.name],a.showErrors()):(r={},s=i||a.defaultMessage(n,"remote"),r[n.name]=o.message=t.isFunction(s)?s(e):s,a.invalid[n.name]=!0,a.showErrors(r)),o.valid=u,a.stopRequest(n,u)}},i)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var a=t.port;"abort"===t.mode&&(n[a]&&n[a].abort(),n[a]=i)}):(e=t.ajax,t.ajax=function(i){var a=("mode"in i?i:t.ajaxSettings).mode,r=("port"in i?i:t.ajaxSettings).port;return"abort"===a?(n[r]&&n[r].abort(),n[r]=e.apply(this,arguments),n[r]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var a=t(n.target);return a.is(e)?i.apply(a,arguments):void 0})}})}),function(t,e,n,i){function a(e,n){this.element=t(e),this.settings=t.extend({},o,n),this._defaults=o,this._name=r,this.init()}var r="metisMenu",o={toggle:!0,doubleTapToGo:!1};a.prototype={init:function(){var e=this.element,i=this.settings.toggle,a=this;this.isIE()<=9?(e.find("li.active").has("ul").children("ul").collapse("show"),e.find("li").not(".active").has("ul").children("ul").collapse("hide")):(e.find("li.active").has("ul").children("ul").addClass("collapse in"),e.find("li").not(".active").has("ul").children("ul").addClass("collapse")),a.settings.doubleTapToGo&&e.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),e.find("li").has("ul").children("a").on("click."+r,function(e){if(e.preventDefault(),a.settings.doubleTapToGo&&a.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href"))return e.stopPropagation(),void(n.location=t(this).attr("href"));t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),i&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")})},isIE:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];)return t>4?t:void 0},doubleTapToGo:function(t){var e=this.element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},remove:function(){this.element.off("."+r),this.element.removeData(r)}},t.fn[r]=function(e){return this.each(function(){var n=t(this);n.data(r)&&n.data(r).remove(),n.data(r,new a(this,e))}),this}}(jQuery,window,document),function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},a=e.extend(i,n);return this.each(function(){function i(t){if(u){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+a.wrapperClass).is(w.parent())&&r(n,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function r(t,e,n){y=!1;var i=t,r=w.outerHeight()-x.outerHeight();if(e&&(i=parseInt(x.css("top"))+t*parseInt(a.wheelStep)/100*x.outerHeight(),i=Math.min(Math.max(i,0),r),i=t>0?Math.ceil(i):Math.floor(i),x.css({top:i+"px"})),g=parseInt(x.css("top"))/(w.outerHeight()-x.outerHeight()),i=g*(w[0].scrollHeight-w.outerHeight()),n){i=t;var o=i/w[0].scrollHeight*w.outerHeight();o=Math.min(Math.max(o,0),r),x.css({top:o+"px"})}w.scrollTop(i),w.trigger("slimscrolling",~~i),s(),l()}function o(){p=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),x.css({height:p+"px"});var t=p==w.outerHeight()?"none":"block";x.css({display:t})}function s(){if(o(),clearTimeout(h),g==~~g){if(y=a.allowPageScroll,m!=g){var t=0==~~g?"top":"bottom";w.trigger("slimscroll",t)}}else y=!1;if(m=g,p>=w.outerHeight())return void(y=!0);x.stop(!0,!0).fadeIn("fast"),a.railVisible&&F.stop(!0,!0).fadeIn("fast")}function l(){a.alwaysVisible||(h=setTimeout(function(){a.disableFadeOut&&u||c||d||(x.fadeOut("slow"),F.fadeOut("slow"))},1e3))}var u,c,d,h,f,p,g,m,v="<div></div>",b=30,y=!1,w=e(this);if(w.parent().hasClass(a.wrapperClass)){var D=w.scrollTop();if(x=w.siblings("."+a.barClass),F=w.siblings("."+a.railClass),o(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var C=w.parent().parent().height();w.parent().css("height",C),w.css("height",C)}else if("height"in n){var S=n.height;w.parent().css("height",S),w.css("height",S)}if("scrollTo"in n)D=parseInt(a.scrollTo);else if("scrollBy"in n)D+=parseInt(a.scrollBy);else if("destroy"in n)return x.remove(),F.remove(),void w.unwrap();r(D,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){a.height="auto"==a.height?w.parent().height():a.height;var T=e(v).addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",width:a.width,height:a.height});w.css({overflow:"hidden",width:a.width,height:a.height});var F=e(v).addClass(a.railClass).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),x=e(v).addClass(a.barClass).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99}),k="right"==a.position?{right:a.distance}:{left:a.distance};F.css(k),x.css(k),w.wrap(T),w.parent().append(x),w.parent().append(F),a.railDraggable&&x.bind("mousedown",function(n){var i=e(document);return d=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),r(0,x.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){d=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),F.hover(function(){s()},function(){l()}),x.hover(function(){c=!0},function(){c=!1}),w.hover(function(){u=!0,s(),l()},function(){u=!1,l()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){if(y||t.originalEvent.preventDefault(),t.originalEvent.touches.length){r((f-t.originalEvent.touches[0].pageY)/a.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY}}),o(),"bottom"===a.start?(x.css({top:w.outerHeight()-x.outerHeight()}),r(0,!0)):"top"!==a.start&&(r(e(a.start).position().top,null,!0),a.alwaysVisible||x.hide()),function(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",i,!1),t.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(){var t,e,n,i,a,r,o,s,l,u,c,d,h,f,p,g,m,v,b,y,w,D,C,S,T,F,x,k,_,A,I,L,E,M,R,U,N,P,H,z,j,O,B,W,q,$,V,Y,J=[].slice,G={}.hasOwnProperty,Q=function(t,e){function n(){this.constructor=t}for(var i in e)G.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},X=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(y={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},k=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(t){return setTimeout(t,50)},b=function(t){return clearTimeout(t)}),L=function(t){var e,n;return e=k(),(n=function(){var i;return i=k()-e,i>=33?(e=k(),t(i,function(){return A(n)})):setTimeout(n,33-i)})()},I=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?J.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},w=function(){var t,e,n,i,a,r,o;for(e=arguments[0],i=2<=arguments.length?J.call(arguments,1):[],r=0,o=i.length;o>r;r++)if(n=i[r])for(t in n)G.call(n,t)&&(a=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=a&&"object"==typeof a?w(e[t],a):e[t]=a);return e},g=function(t){var e,n,i,a,r;for(n=e=0,a=0,r=t.length;r>a;a++)i=t[a],n+=Math.abs(i),e++;return n/e},C=function(t,e){var n,i,a;if(null==t&&(t="options"),null==e&&(e=!0),a=document.querySelector("[data-pace-"+t+"]")){if(n=a.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return i=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},o=function(){function t(){}return t.prototype.on=function(t,e,n,i){var a;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(a=this.bindings)[t]&&(a[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,a;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,a=[];n<this.bindings[t].length;)this.bindings[t][n].handler===e?a.push(this.bindings[t].splice(n,1)):a.push(n++);return a}},t.prototype.trigger=function(){var t,e,n,i,a,r,o,s,l;if(n=arguments[0],t=2<=arguments.length?J.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(a=0,l=[];a<this.bindings[n].length;)s=this.bindings[n][a],i=s.handler,e=s.ctx,r=s.once,i.apply(null!=e?e:this,t),r?l.push(this.bindings[n].splice(a,1)):l.push(a++);return l}},t}(),null==window.Pace&&(window.Pace={}),w(Pace,o.prototype),_=Pace.options=w({},y,window.paceOptions,C()),$=["ajax","document","eventLag","elements"],O=0,W=$.length;W>O;O++)U=$[O],!0===_[U]&&(_[U]=y[U]);l=function(t){function e(){return V=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(_.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e;return null!=document.querySelector(_.target)&&(t=this.getElement(),t.children[0].style.width=this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?e="99":(e=this.progress<10?"0":"",e+=0|this.progress),t.children[0].setAttribute("data-progress",""+e)),this.lastRenderedProgress=this.progress)},t.prototype.done=function(){return this.progress>=100},t}(),s=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,a,r,o;if(null!=this.bindings[t]){for(r=this.bindings[t],o=[],i=0,a=r.length;a>i;i++)n=r[i],o.push(n.call(this,e));return o}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),j=window.XMLHttpRequest,z=window.XDomainRequest,H=window.WebSocket,D=function(t,e){var n,i,a;a=[];for(n in e.prototype)try{i=e.prototype[n],null==t[n]&&"function"!=typeof i?a.push(t[n]=i):a.push(void 0)}catch(t){t}return a},F=[],Pace.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?J.call(arguments,1):[],F.unshift("ignore"),n=e.apply(null,t),F.shift(),n},Pace.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?J.call(arguments,1):[],F.unshift("track"),n=e.apply(null,t),F.shift(),n},R=function(t){var e;if(null==t&&(t="GET"),"track"===F[0])return"force";if(!F.length&&_.ajax){if("socket"===t&&_.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),X.call(_.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,a){return R(i)&&n.trigger("request",{type:i,url:a,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new j(e),t(n),n},D(window.XMLHttpRequest,j),null!=z&&(window.XDomainRequest=function(){var e;return e=new z,t(e),e},D(window.XDomainRequest,z)),null!=H&&_.ajax.trackWebSockets&&(window.WebSocket=function(t,e){var i;return i=null!=e?new H(t,e):new H(t),R("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i},D(window.WebSocket,H))}return Q(e,t),e}(s),B=null,S=function(){return null==B&&(B=new u),B},M=function(t){var e,n,i,a;for(a=_.ajax.ignoreURLs,n=0,i=a.length;i>n;n++)if("string"==typeof(e=a[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},S().on("request",function(e){var n,i,a,r,o;return r=e.type,a=e.request,o=e.url,M(o)?void 0:Pace.running||!1===_.restartOnRequestAfter&&"force"!==R(r)?void 0:(i=arguments,n=_.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,o,s,l;if("socket"===r?a.readyState<2:0<(o=a.readyState)&&4>o){for(Pace.restart(),s=Pace.sources,l=[],e=0,n=s.length;n>e;e++){if((U=s[e])instanceof t){U.watch.apply(U,i);break}l.push(void 0)}return l}},n))}),t=function(){function t(){var t=this;this.elements=[],S().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,a;return i=t.type,e=t.request,a=t.url,M(a)?void 0:(n="socket"===i?new h(e):new f(e),this.elements.push(n))},t}(),f=function(){function t(t){var e,n,i,a,r,o=this;if(this.progress=0,null!=window.ProgressEvent)for(null,t.addEventListener("progress",function(t){return o.progress=t.lengthComputable?100*t.loaded/t.total:o.progress+(100-o.progress)/2}),r=["load","abort","timeout","error"],n=0,i=r.length;i>n;n++)e=r[n],t.addEventListener(e,function(){return o.progress=100});else a=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?o.progress=100:3===t.readyState&&(o.progress=50),"function"==typeof a?a.apply(null,arguments):void 0}}return t}(),h=function(){function t(t){var e,n,i,a,r=this;for(this.progress=0,a=["error","open"],n=0,i=a.length;i>n;n++)e=a[n],t.addEventListener(e,function(){return r.progress=100})}return t}(),i=function(){function t(t){var e,n,i,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),r=t.selectors,n=0,i=r.length;i>n;n++)e=r[n],this.elements.push(new a(e))}return t}(),a=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},_.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),r=function(){function t(){var t,e,n,i,a,r=this;this.progress=0,t=0,a=[],i=0,n=k(),e=setInterval(function(){var o;return o=k()-n-50,n=k(),a.push(o),a.length>_.eventLag.sampleCount&&a.shift(),t=g(a),++i>=_.eventLag.minSamples&&t<_.eventLag.lagThreshold?(r.progress=100,clearInterval(e)):r.progress=3/(t+3)*100},50)}return t}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=_.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=I(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=I(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/_.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,_.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+_.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),N=null,E=null,m=null,P=null,p=null,v=null,Pace.running=!1,T=function(){return _.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(q=window.history.pushState,window.history.pushState=function(){return T(),q.apply(window.history,arguments)}),null!=window.history.replaceState&&(Y=window.history.replaceState,window.history.replaceState=function(){return T(),Y.apply(window.history,arguments)}),c={ajax:t,elements:i,document:n,eventLag:r},(x=function(){var t,n,i,a,r,o,s,l;for(Pace.sources=N=[],o=["ajax","elements","document","eventLag"],n=0,a=o.length;a>n;n++)t=o[n],!1!==_[t]&&N.push(new c[t](_[t]));for(l=null!=(s=_.extraSources)?s:[],i=0,r=l.length;r>i;i++)U=l[i],N.push(new U(_));return Pace.bar=m=new e,E=[],P=new d})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,m.destroy(),v=!0,null!=p&&("function"==typeof b&&b(p),p=null),x()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var t;return Pace.running=!0,m.render(),t=k(),v=!1,p=L(function(e,n){var i,a,r,o,s,l,u,c,h,f,p,g,b,y,w;for(100-m.progress,a=f=0,r=!0,l=p=0,b=N.length;b>p;l=++p)for(U=N[l],h=null!=E[l]?E[l]:E[l]=[],s=null!=(w=U.elements)?w:[U],u=g=0,y=s.length;y>g;u=++g)o=s[u],c=null!=h[u]?h[u]:h[u]=new d(o),r&=c.done,c.done||(a++,f+=c.tick(e));return i=f/a,m.update(P.tick(e,i)),m.done()||r||v?(m.update(100),Pace.trigger("done"),setTimeout(function(){return m.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(_.ghostTime,Math.max(_.minTime-(k()-t),0)))):n()})},Pace.start=function(t){w(_,t),Pace.running=!0;try{m.render()}catch(t){l=t}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:_.startOnPageLoad&&Pace.start()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.validate.min"],t):t(jQuery)}(function(t){var e="<i class='fa fa-times-circle'></i>  ";t.extend(t.validator.messages,{required:e+"必填",remote:e+"请修正此栏位",email:e+"请输入有效的电子邮件",url:e+"请输入有效的网址",date:e+"请输入有效的日期",dateISO:e+"请输入有效的日期 (YYYY-MM-DD)",number:e+"请输入正确的数字",digits:e+"只能输入数字",creditcard:e+"请输入有效的信用卡号码",equalTo:e+"你的输入不相同",extension:e+"请输入有效的后缀",maxlength:t.validator.format(e+"最多 {0} 个字"),minlength:t.validator.format(e+"最少 {0} 个字"),rangelength:t.validator.format(e+"请输入长度为 {0} 至 {1} 之间的字串"),range:t.validator.format(e+"请输入 {0} 至 {1} 之间的数值"),max:t.validator.format(e+"请输入不大于 {0} 的数值"),min:t.validator.format(e+"请输入不小于 {0} 的数值")})}),function(t){t.extend(t.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",clear:"清除格式",height:"行高",name:"字体",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"调整至 100%",resizeHalf:"调整至 50%",resizeQuarter:"调整至 25%",floatLeft:"左浮动",floatRight:"右浮动",floatNone:"不浮动",dragImageHere:"将图片拖至此处",selectFromFiles:"从本地上传",url:"图片地址"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, Instagram, DailyMotion, Youtube等)"},table:{table:"表格"},hr:{insert:"水平线"},style:{style:"样式",normal:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式"},history:{undo:"撤销",redo:"重做"}}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,a=this.length>>>0,r=!1;for(1<arguments.length&&(i=e,r=!0),n=0;a>n;++n)this.hasOwnProperty(n)&&(r?i=t(i,this[n],n,this):(i=this[n],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return i});var n={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),bCodeMirror:!!e},i=function(){return{eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},ok:function(){return!0},fail:function(){return!1},not:function(t){return function(){return!t.apply(t,arguments)}},self:function(t){return t}}}(),a=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},n=function(t){return t.slice(0,t.length-1)},a=function(t){return t.slice(1)},r=function(t,e){var n=t.indexOf(e);return-1===n?null:t[n+1]},o=function(t,e){var n=t.indexOf(e);return-1===n?null:t[n-1]},s=function(t,e){return e=e||i.self,t.reduce(function(t,n){return t+e(n)},0)},l=function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},u=function(n,i){return 0===n.length?[]:a(n).reduce(function(t,n){var a=e(t);return i(e(a),n)?a[a.length]=n:t[t.length]=[n],t},[[t(n)]])},c=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e};return{head:t,last:e,initial:n,tail:a,prev:o,next:r,sum:s,from:l,compact:c,clusterBy:u}}(),r=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},o=function(e){return e&&t(e).hasClass("note-control-sizing")},s=function(t){var e=function(e){return function(){return t.find(e)}};return{editor:function(){return t},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog")}},l=function(t){return function(e){return e&&e.nodeName===t}},u=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},c=function(t){return t&&/^UL|^OL/.test(t.nodeName)},d=function(t){return t&&/^TD|^TH/.test(t.nodeName)},h=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},f=function(t,e){e=e||i.fail;var n=[];return h(t,function(t){return n.push(t),e(t)}),n},p=function(e,n){for(var i=f(e),a=n;a;a=a.parentNode)if(t.inArray(a,i)>-1)return a;return null},g=function(t,e){var n=[],i=!1,a=!1;return function r(o){if(o){if(o===t&&(i=!0),i&&!a&&n.push(o),o===e)return void(a=!0);for(var s=0,l=o.childNodes.length;l>s;s++)r(o.childNodes[s])}}(p(t,e)),n},m=function(t,e){e=e||i.fail;for(var n=[];t&&(n.push(t),!e(t));)t=t.previousSibling;return n},v=function(t,e){e=e||i.fail;for(var n=[];t&&(n.push(t),!e(t));)t=t.nextSibling;return n},b=function(t,e){var n=[];return e=e||i.ok,function i(a){t!==a&&e(a)&&n.push(a);for(var r=0,o=a.childNodes.length;o>r;r++)i(a.childNodes[r])}(t),n},y=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},w=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},D=l("#text"),C=function(t){return D(t)?t.nodeValue.length:t.childNodes.length},S=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},T=function(e,n){var r=a.initial(f(n,i.eq(e)));return t.map(r,S).reverse()},F=function(t,e){for(var n=t,i=0,a=e.length;a>i;i++)n=n.childNodes[e[i]];return n},x=function(t,e){if(0===e)return t;if(e>=C(t))return t.nextSibling;if(D(t))return t.splitText(e);var n=t.childNodes[e];return t=y(t.cloneNode(!1),t),w(t,v(n))},k=function(t,e,n){var a=f(e,i.eq(t));return 1===a.length?x(e,n):a.reduce(function(t,i){var a=i.cloneNode(!1);return y(a,i),t===e&&(t=x(t,n)),w(a,v(t)),a})},_=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,a,r=[];for(i=0,a=t.childNodes.length;a>i;i++)r.push(t.childNodes[i]);for(i=0,a=r.length;a>i;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},A=function(t){return r.isTextarea(t[0])?t.val():t.html()};return{blank:n.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:e,isControlSizing:o,buildLayoutInfo:s,isText:D,isPara:u,isList:c,isTable:l("TABLE"),isCell:d,isAnchor:l("A"),isDiv:l("DIV"),isLi:l("LI"),isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:l("TEXTAREA"),ancestor:h,listAncestor:f,listNext:v,listPrev:m,listDescendant:b,commonAncestor:p,listBetween:g,insertAfter:y,position:S,makeOffsetPath:T,fromOffsetPath:F,split:k,remove:_,html:A}}(),o={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline",
"CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},s=function(){return{readFileAsDataURL:function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e){return t.Deferred(function(n){t("<img>").one("load",function(){n.resolve(t(this))}).one("error abort",function(){n.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()}}}(),l={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},u=function(){var e=function(e,i){if(n.jqueryVersion<1.9){var a={};return t.each(i,function(t,n){a[n]=e.css(n)}),a}return e.css.call(e,i)};this.stylePara=function(e,n){t.each(e.nodes(r.isPara),function(e,i){t(i).css(n)})},this.current=function(n,i){var a=t(r.isText(n.sc)?n.sc.parentNode:n.sc),o=["font-family","font-size","text-align","list-style-type","line-height"],s=e(a,o)||{};if(s["font-size"]=parseInt(s["font-size"],10),s["font-bold"]=document.queryCommandState("bold")?"bold":"normal",s["font-italic"]=document.queryCommandState("italic")?"italic":"normal",s["font-underline"]=document.queryCommandState("underline")?"underline":"normal",s["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",n.isOnList()){var l=["circle","disc","disc-leading-zero","square"],u=t.inArray(s["list-style-type"],l)>-1;s["list-style"]=u?"unordered":"ordered"}else s["list-style"]="none";var c=r.ancestor(n.sc,r.isPara);if(c&&c.style["line-height"])s["line-height"]=c.style.lineHeight;else{var d=parseInt(s["line-height"],10)/parseInt(s["font-size"],10);s["line-height"]=d.toFixed(1)}return s.image=r.isImg(i)&&i,s.anchor=n.isOnAnchor()&&r.ancestor(n.sc,r.isAnchor),s.aAncestor=r.listAncestor(n.sc,r.isEditable),s}},c=function(){var e=!!document.createRange,n=function(t,e){var n,i,o=t.parentElement(),s=document.body.createTextRange(),l=a.from(o.childNodes);for(n=0;n<l.length;n++)if(!r.isText(l[n])){if(s.moveToElementText(l[n]),s.compareEndPoints("StartToStart",t)>=0)break;i=l[n]}if(0!==n&&r.isText(l[n-1])){var u=document.body.createTextRange(),c=null;u.moveToElementText(i||o),u.collapse(!i),c=i?i.nextSibling:o.firstChild;var d=t.duplicate();d.setEndPoint("StartToStart",u);for(var h=d.text.replace(/[\r\n]/g,"").length;h>c.nodeValue.length&&c.nextSibling;)h-=c.nodeValue.length,c=c.nextSibling;c.nodeValue,e&&c.nextSibling&&r.isText(c.nextSibling)&&h===c.nodeValue.length&&(h-=c.nodeValue.length,c=c.nextSibling),o=c,n=h}return{cont:o,offset:n}},o=function(t){var e=function(t,n){var o,s;if(r.isText(t)){var l=r.listPrev(t,i.not(r.isText)),u=a.last(l).previousSibling;o=u||t.parentNode,n+=a.sum(a.tail(l),r.length),s=!u}else{if(o=t.childNodes[n]||t,r.isText(o))return e(o,n);n=0,s=!1}return{cont:o,collapseToStart:s,offset:n}},n=document.body.createTextRange(),o=e(t.cont,t.offset);return n.moveToElementText(o.cont),n.collapse(o.collapseToStart),n.moveStart("character",o.offset),n},s=function(n,s,l,u){this.sc=n,this.so=s,this.ec=l,this.eo=u;var c=function(){if(e){var t=document.createRange();return t.setStart(n,s),t.setEnd(l,u),t}var i=o({cont:n,offset:s});return i.setEndPoint("EndToEnd",o({cont:l,offset:u})),i};this.select=function(){var t=c();if(e){var n=document.getSelection();n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)}else t.select()},this.nodes=function(e){var o=r.listBetween(n,l),s=a.compact(t.map(o,function(t){return r.ancestor(t,e)}));return t.map(a.clusterBy(s,i.eq2),a.head)},this.commonAncestor=function(){return r.commonAncestor(n,l)};var d=function(t){return function(){var e=r.ancestor(n,t);return!!e&&e===r.ancestor(l,t)}};this.isOnEditable=d(r.isEditable),this.isOnList=d(r.isList),this.isOnAnchor=d(r.isAnchor),this.isOnCell=d(r.isCell),this.isCollapsed=function(){return n===l&&s===u},this.insertNode=function(t){var n=c();e?n.insertNode(t):n.pasteHTML(t.outerHTML)},this.toString=function(){var t=c();return e?t.toString():t.text},this.bookmark=function(t){return{s:{path:r.makeOffsetPath(t,n),offset:s},e:{path:r.makeOffsetPath(t,l),offset:u}}}};return{create:function(t,i,a,r){if(0===arguments.length)if(e){var o=document.getSelection();if(0===o.rangeCount)return null;var l=o.getRangeAt(0);t=l.startContainer,i=l.startOffset,a=l.endContainer,r=l.endOffset}else{var u=document.selection.createRange(),c=u.duplicate();c.collapse(!1);var d=u;d.collapse(!0);var h=n(d,!0),f=n(c,!1);t=h.cont,i=h.offset,a=f.cont,r=f.offset}else 2===arguments.length&&(a=t,r=i);return new s(t,i,a,r)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=r.fromOffsetPath(t,e.s.path),i=e.s.offset,a=r.fromOffsetPath(t,e.e.path),o=e.e.offset;return new s(n,i,a,o)}}}(),d=function(){this.tab=function(t,e){var n=r.ancestor(t.commonAncestor(),r.isCell),i=r.ancestor(n,r.isTable),o=r.listDescendant(i,r.isCell),s=a[e?"prev":"next"](o,n);s&&c.create(s,0).select()},this.createTable=function(e,n){for(var i,a=[],o=0;e>o;o++)a.push("<td>"+r.blank+"</td>");i=a.join("");for(var s,l=[],u=0;n>u;u++)l.push("<tr>"+i+"</tr>");return s=l.join(""),t('<table class="table table-bordered">'+s+"</table>")[0]}},h=function(){var e=new u,i=new d;this.saveRange=function(t){t.data("range",c.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var n=c.create();return n.isOnEditable()&&e.current(n,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var a=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},o=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],l=0,h=o.length;h>l;l++)this[o[l]]=function(t){return function(e,n){a(e),document.execCommand(t,!1,n)}}(o[l]);var f=function(e,n,i){a(e);var o=new Array(i+1).join("&nbsp;");n.insertNode(t('<span id="noteTab">'+o+"</span>")[0]);var s=t("#noteTab").removeAttr("id");n=c.create(s[0],1),n.select(),r.remove(s[0])};this.tab=function(t,e){var n=c.create();n.isCollapsed()&&n.isOnCell()?i.tab(n):f(t,n,e.tabsize)},this.untab=function(){var t=c.create();t.isCollapsed()&&t.isOnCell()&&i.tab(t,!0)},this.insertImage=function(t,e){s.createImage(e).then(function(e){a(t),e.css({display:"",width:Math.min(t.width(),e.width())}),c.create().insertNode(e[0])}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,n){a(e);var i,r=n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),o=n.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/),s=n.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/),l=n.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),u=n.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/);if(r&&11===r[2].length){var d=r[2];i=t("<iframe>").attr("src","//www.youtube.com/embed/"+d).attr("width","640").attr("height","360")}else o&&o[0].length>0?i=t("<iframe>").attr("src",o[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):s&&s[0].length>0?i=t("<iframe>").attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):l&&l[3].length>0?i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360"):u&&u[2].length>0&&(i=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+u[2]).attr("width","640").attr("height","360"));i&&(i.attr("frameborder",0),c.create().insertNode(i[0]))},this.formatBlock=function(t,e){a(t),e=n.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(var l=1;6>=l;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(t,e){a(t),document.execCommand("fontSize",!1,3),n.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,n){a(t),e.stylePara(c.create(),{lineHeight:n})},this.unlink=function(t){var e=c.create();if(e.isOnAnchor()){a(t);var n=r.ancestor(e.sc,r.isAnchor);e=c.createFromNode(n),e.select(),document.execCommand("unlink")}},this.createLink=function(e,i,o){var s=c.create();a(e);var l=i;if(-1!==i.indexOf("@")&&-1===i.indexOf(":")?l="mailto:"+i:-1===i.indexOf("://")&&(l="http://"+i),(n.bMSIE||n.bFF)&&s.isCollapsed()){s.insertNode(t('<A id="linkAnchor">'+i+"</A>")[0]);var u=t("#linkAnchor").attr("href",l).removeAttr("id");s=c.createFromNode(u[0]),s.select()}else document.execCommand("createlink",!1,l),s=c.create();t.each(s.nodes(r.isAnchor),function(e,n){o?t(n).attr("target","_blank"):t(n).removeAttr("target")})},this.getLinkInfo=function(){var e=c.create(),n=!0,i="";if(e.isOnAnchor()){var a=r.ancestor(e.sc,r.isAnchor);e=c.createFromNode(a),n="_blank"===t(a).attr("target"),i=a.href}return{text:e.toString(),url:i,newWindow:n}},this.getVideoInfo=function(){var t=c.create();if(t.isOnAnchor()){var e=r.ancestor(t.sc,r.isAnchor);t=c.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,r=n.backColor;a(t),i&&document.execCommand("foreColor",!1,i),r&&document.execCommand("backColor",!1,r)},this.insertTable=function(t,e){a(t);var n=e.split("x");c.create().insertNode(i.createTable(n[0],n[1]))},this.floatMe=function(t,e,n){a(t),n.css("float",e)},this.resize=function(t,e,n){a(t),n.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,n){var i;if(n){var a=t.y/t.x,r=e.data("ratio");i={width:r>a?t.x:t.y/r,height:r>a?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){a(t),n.detach()}},f=function(){var t=[],e=[],n=function(t){var e=t[0],n=c.create();return{contents:t.html(),bookmark:n.bookmark(e),scrollTop:t.scrollTop()}},i=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),c.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(a){var r=n(a);0!==t.length&&(i(a,t.pop()),e.push(r))},this.redo=function(a){var r=n(a);0!==e.length&&(i(a,e.pop()),t.push(r))},this.recordUndo=function(i){e=[],t.push(n(i))}},p=function(){this.update=function(e,n){var i=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==n+"";this.className=e?"checked":""})},r=function(t,n){e.find(t).toggleClass("active",n())},o=e.find(".note-fontname");if(o.length>0){var s=n["font-family"];s&&(s=a.head(s.split(",")),s=s.replace(/\'/g,""),o.find(".note-current-fontname").text(s),i(o,s))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),i(l,parseFloat(n["font-size"])),i(e.find(".note-height"),parseFloat(n["line-height"])),r('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),r('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),r('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),r('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),r('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),r('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),r('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),r('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),r('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),r('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,i){var a=t(e).closest(".note-color"),r=a.find(".note-recent-color"),o=JSON.parse(r.attr("data-value"));o[n]=i,r.attr("data-value",JSON.stringify(o));var s="backColor"===n?"background-color":"color";r.find("i").css(s,i)},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},g=function(){var e=function(e,n){var i=t(n),a=i.position(),r=i.height();e.css({display:"block",left:a.left,top:a.top+r})};this.update=function(t,n){var i=t.find(".note-link-popover");if(n.anchor){i.find("a").attr("href",n.anchor.href).html(n.anchor.href),e(i,n.anchor)}else i.hide();var a=t.find(".note-image-popover");n.image?e(a,n.image):a.hide()},this.hide=function(t){t.children().hide()}},m=function(){this.update=function(e,n){var i=e.find(".note-control-selection");if(n.image){var a=t(n.image),r=a.position(),o={w:a.width(),h:a.height()};i.css({display:"block",left:r.left,top:r.top,width:o.w,height:o.h}).data("target",n.image);var s=o.w+"x"+o.h;i.find(".note-control-selection-info").text(s)}else i.hide()},this.hide=function(t){t.children().hide()}},v=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(n,i){return t.Deferred(function(t){var a=i.find(".note-image-dialog"),r=i.find(".note-image-input"),o=i.find(".note-image-url"),s=i.find(".note-image-btn");a.one("shown.bs.modal",function(){r.replaceWith(r.clone().on("change",function(){a.modal("hide"),t.resolve(this.files)})),s.click(function(e){e.preventDefault(),a.modal("hide"),t.resolve(o.val())}),o.keyup(function(){e(s,o.val())}).val("").focus()}).one("hidden.bs.modal",function(){n.focus(),r.off("change"),o.off("keyup"),s.off("click")}).modal("show")})},this.showVideoDialog=function(n,i,a){return t.Deferred(function(t){var r=i.find(".note-video-dialog"),o=r.find(".note-video-url"),s=r.find(".note-video-btn");r.one("shown.bs.modal",function(){o.val(a.text).keyup(function(){e(s,o.val())}).trigger("keyup").trigger("focus"),s.click(function(e){e.preventDefault(),r.modal("hide"),t.resolve(o.val())})}).one("hidden.bs.modal",function(){n.focus(),o.off("keyup"),s.off("click")}).modal("show")})},this.showLinkDialog=function(n,i,a){return t.Deferred(function(t){var r=i.find(".note-link-dialog"),o=r.find(".note-link-text"),s=r.find(".note-link-url"),l=r.find(".note-link-btn"),u=r.find("input[type=checkbox]");r.one("shown.bs.modal",function(){o.val(a.text),s.keyup(function(){e(l,s.val()),a.text||o.val(s.val())}).val(a.url).trigger("focus"),u.prop("checked",a.newWindow),l.one("click",function(e){e.preventDefault(),r.modal("hide"),t.resolve(s.val(),u.is(":checked"))})}).one("hidden.bs.modal",function(){n.focus(),s.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){e.find(".note-help-dialog").one("hidden.bs.modal",function(){t.focus()}).modal("show")}},b=function(){var i=new h,o=new p,u=new g,c=new m,d=new v,b=function(e){var n=t(e).closest(".note-editor");return n.length>0&&r.buildLayoutInfo(n)},y=function(e,n){i.restoreRange(e);var a=e.data("callbacks");a.onImageUpload?a.onImageUpload(n,i,e):t.each(n,function(t,n){s.readFileAsDataURL(n).then(function(t){i.insertImage(e,t)}).fail(function(){a.onImageUploadError&&a.onImageUploadError()})})},w=function(t){r.isImg(t.target)&&t.preventDefault()},D=function(t){var e=b(t.currentTarget||t.target),n=i.currentStyle(t.target);n&&(o.update(e.toolbar(),n),u.update(e.popover(),n),c.update(e.handle(),n))},C=function(t){var e=b(t.currentTarget||t.target);u.hide(e.popover()),c.hide(e.handle())},S=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var n=b(t.currentTarget||t.target),i=a.head(e.clipboardData.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&y(n.editable(),[i.getAsFile()])}},T=function(e){if(r.isControlSizing(e.target)){var n=b(e.target),a=n.handle(),o=n.popover(),s=n.editable(),l=n.editor(),d=a.find(".note-control-selection").data("target"),h=t(d),f=h.offset(),p=t(document).scrollTop();l.on("mousemove",function(t){i.resizeTo({x:t.clientX-f.left,y:t.clientY-(f.top-p)},h,!t.shiftKey),c.update(a,{image:d}),u.update(o,{image:d})}).one("mouseup",function(){l.off("mousemove")}),h.data("ratio")||h.data("ratio",h.height()/h.width()),i.recordUndo(s),e.stopPropagation(),e.preventDefault()}},F=function(e){t(e.target).closest("[data-event]").length>0&&e.preventDefault()},x=function(a){var s=t(a.target).closest("[data-event]");if(s.length>0){var l,u,c,h=s.attr("data-event"),f=s.attr("data-value"),p=b(a.target),g=p.editor(),m=p.toolbar(),v=p.dialog(),w=p.editable(),C=p.codable(),S=g.data("options");if(-1!==t.inArray(h,["resize","floatMe","removeMedia"])){var T=p.handle(),F=T.find(".note-control-selection");c=t(F.data("target"))}if(i[h]&&(w.trigger("focus"),i[h](w,f,c)),-1!==t.inArray(h,["backColor","foreColor"]))o.updateRecentColor(s[0],h,f);else if("showLinkDialog"===h){w.focus();var x=i.getLinkInfo();i.saveRange(w),d.showLinkDialog(w,v,x).then(function(t,e){i.restoreRange(w),i.createLink(w,t,e)})}else if("showImageDialog"===h)w.focus(),d.showImageDialog(w,v).then(function(t){"string"==typeof t?(i.restoreRange(w),i.insertImage(w,t)):y(w,t)});else if("showVideoDialog"===h){w.focus();var k=i.getVideoInfo();i.saveRange(w),d.showVideoDialog(w,v,k).then(function(t){i.restoreRange(w),i.insertVideo(w,t)})}else if("showHelpDialog"===h)d.showHelpDialog(w,v);else if("fullscreen"===h){var _=t("html, body"),A=function(t){g.css("width",t.w),w.css("height",t.h),C.css("height",t.h),C.data("cmEditor")&&C.data("cmEditor").setSize(null,t.h)};g.toggleClass("fullscreen");var I=g.hasClass("fullscreen");I?(w.data("orgHeight",w.css("height")),t(window).on("resize",function(){A({w:t(window).width(),h:t(window).height()-m.outerHeight()})}).trigger("resize"),_.css("overflow","hidden")):(t(window).off("resize"),A({w:S.width||"",h:w.data("orgHeight")}),_.css("overflow","auto")),o.updateFullscreen(m,I)}else if("codeview"===h){g.toggleClass("codeview");var L=g.hasClass("codeview");if(L){if(C.val(w.html()),C.height(w.height()),o.deactivate(m),C.focus(),n.bCodeMirror){u=e.fromTextArea(C[0],t.extend({mode:"text/html",lineNumbers:!0},S.codemirror));var E=g.data("options").codemirror.tern||!1;E&&(l=new e.TernServer(E),u.ternServer=l,u.on("cursorActivity",function(t){l.updateArgHints(t)})),u.setSize(null,w.outerHeight()),u.autoFormatRange&&u.autoFormatRange({line:0,ch:0},{line:u.lineCount(),ch:u.getTextArea().value.length}),C.data("cmEditor",u)}}else n.bCodeMirror&&(u=C.data("cmEditor"),C.val(u.getValue()),u.toTextArea()),w.html(C.val()||r.emptyPara),w.height(S.height?C.height():"auto"),o.activate(m),w.focus();o.updateCodeview(p.toolbar(),L)}D(a)}},k=function(e){var n=t(document),i=b(e.target).editable(),a=i.offset().top-n.scrollTop();n.on("mousemove",function(t){var e=t.clientY-(a+24);i.height(e)}).one("mouseup",function(){n.off("mousemove")}),e.stopPropagation(),e.preventDefault()},_=function(e){var n,i=t(e.target.parentNode),a=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),o=i.find(".note-dimension-picker-highlighted"),s=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();n={x:e.pageX-l.left,y:e.pageY-l.top}}else n={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(n.x/18)||1,r:Math.ceil(n.y/18)||1};o.css({width:u.c+"em",height:u.r+"em"}),r.attr("data-value",u.c+"x"+u.r),3<u.c&&u.c<10&&s.css({width:u.c+1+"em"}),3<u.r&&u.r<10&&s.css({height:u.r+1+"em"}),a.html(u.c+" x "+u.r)},A=function(e){var n=t(),i=e.dropzone,a=e.dropzone.find(".note-dropzone-message");t(document).on("dragenter",function(t){e.editor.hasClass("codeview")||0!==n.length||(e.editor.addClass("dragover"),i.width(e.editor.width()),i.height(e.editor.height()),a.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){n=n.not(t.target),0===n.length&&e.editor.removeClass("dragover")}).on("drop",function(){n=t(),e.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),a.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),a.text("Drag Image Here")}),i.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=b(t.currentTarget||t.target);n.editable().focus(),y(n.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,e){var n=t.editor,a=t.editable;a.on("keydown",function(t){var r=[];t.metaKey&&r.push("CMD"),t.ctrlKey&&r.push("CTRL"),t.shiftKey&&r.push("SHIFT");var o=l.nameFromCode[t.keyCode];o&&r.push(o);var s=e[r.join("+")];s?(t.preventDefault(),i[s](a,n.data("options"))):l.isEdit(t.keyCode)&&i.recordUndo(a)})},this.attach=function(t,e){if(this.bindKeyMap(t,e.keyMap[n.bMac?"mac":"pc"]),t.editable.on("mousedown",w),t.editable.on("keyup mouseup",D),t.editable.on("scroll",C),t.editable.on("paste",S),e.disableDragAndDrop||A(t),t.handle.on("mousedown",T),t.toolbar.on("click",x),t.popover.on("click",x),t.toolbar.on("mousedown",F),t.popover.on("mousedown",F),t.statusbar.on("mousedown",k),t.toolbar.find(".note-dimension-picker-mousecatcher").on("mousemove",_),t.editable.on("blur",function(){i.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!n.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new f),e.onenter&&t.editable.keypress(function(t){t.keyCode===l.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var a=function(){e.onChange(t.editable,t.editable.html())};n.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",a):t.editable.on("input",a)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},y=function(){var e,i,a,o;e={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],n='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';n+='<ul class="dropdown-menu">';for(var i=0;i<e.length;i++)n+='<li><a data-event="fontName" data-value="'+e[i]+'"><i class="fa fa-check icon-ok"></i> '+e[i]+"</a></li>";return n+="</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){
return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="⌘+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="⌘+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},i=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var s=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strike+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},l=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},u=function(t,e){var n='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var i in e.extraKeys)e.extraKeys.hasOwnProperty(i)&&(n+="<tr><td>"+i+"</td><td>"+e.extraKeys[i]+"</td></tr>");return n+="</tbody></table>"},c=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},d=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},h=function(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+l(t)+"</td><td>"+s(t)+"</td></tr><tr><td>"+d(t)+"</td><td>"+c(t)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+u(t,e)+"</td></tr>"),n+="</tbody</table>"},f=function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};a=function(t,e){return'<div class="note-dialog">'+function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"}()+function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"}()+function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"}()+function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(n.bMac?h(t,e):f(h(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'}()+"</div>"},o=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var p=function(e,i){e.find("button").each(function(e,i){var a=t(i),r=a.attr(n.bMac?"data-mac-shortcut":"data-shortcut");r&&a.attr("title",function(t,e){return e+" ("+r+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){t(this).tooltip("hide")})},g=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],m=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),i=[],a=0,r=g.length;r>a;a++){for(var o=g[a],s=[],l=0,u=o.length;u>l;l++){var c=o[l];s.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',n,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}i.push("<div>"+s.join("")+"</div>")}e.html(i.join(""))})};this.createLayout=function(n,s){var l=n.next();if(!l||!l.hasClass("note-editor")){var u=t('<div class="note-editor"></div>');s.width&&u.width(s.width),s.height>0&&t('<div class="note-statusbar">'+o()+"</div>").prependTo(u);var c=!n.is(":disabled"),d=t('<div class="note-editable" contentEditable="'+c+'"></div>').prependTo(u);s.height&&d.height(s.height),s.direction&&d.attr("dir",s.direction),d.html(r.html(n)||r.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(u);for(var h=t.summernote.lang[s.lang],f="",g=0,v=s.toolbar.length;v>g;g++){var b=s.toolbar[g];f+='<div class="note-'+b[0]+' btn-group">';for(var y=0,w=b[1].length;w>y;y++)f+=e[b[1][y]](h);f+="</div>"}f='<div class="note-toolbar btn-toolbar">'+f+"</div>";var D=t(f).prependTo(u);m(D),p(D,"bottom");var C=t(i(h)).prependTo(u);p(C),t('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>').prependTo(u);t(a(h,s)).prependTo(u).find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(u),u.insertAfter(n),n.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var n=r.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,o);var w=new y,D=new b;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(n,i){var a=t(i);w.createLayout(a,e);var o=w.layoutInfoFromHolder(a);D.attach(o,e),r.isTextarea(a[0])&&a.closest("form").submit(function(){a.html(a.code())})}),this.first()&&e.focus){w.layoutInfoFromHolder(this.first()).editable.focus()}return this.length>0&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var i=this.first();if(0===i.length)return;var a=w.layoutInfoFromHolder(i);if(a&&a.editable){var r=a.editor.hasClass("codeview");return r&&n.bCodeMirror&&a.codable.data("cmEditor").save(),r?a.codable.val():a.editable.html()}return i.html()}return this.each(function(n,i){var a=w.layoutInfoFromHolder(t(i));a&&a.editable&&a.editable.html(e)}),this},destroy:function(){return this.each(function(e,n){var i=t(n),a=w.layoutInfoFromHolder(i);a&&a.editable&&(D.dettach(a),w.removeLayout(i))}),this}})});